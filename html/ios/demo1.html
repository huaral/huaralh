
<!DOCTYPE html>   
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="zh-CN" prefix="og: http://ogp.me/ns#" class="no-js"> <!--<![endif]-->


<!-- BEGIN head -->
<head>

	<!-- Title -->
	<title>干货系列之手把手教你使用Core animation 做动画 - IOS - 伯乐在线</title>
	
	<!-- Meta Tags -->
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	<!-- Favicon & Mobileicon -->
	<link rel="shortcut icon" href="http://ios.jobbole.com/wp-content/uploads/sites/12/2014/12/favicon.png" />
	<link rel="apple-touch-icon" href="http://ios.jobbole.com/wp-content/themes/jobboleblogv3/mobileicon.png" />
	
	<!-- RSS, Atom & Pingbacks -->
		<link rel="alternate" title="IOS &#8211; 伯乐在线 RSS Feed" href="http://ios.jobbole.com/feed/" />
		<link rel="alternate" title="RSS .92" href="http://ios.jobbole.com/feed/rss/" />
	<link rel="alternate" title="Atom 0.3" href="http://ios.jobbole.com/feed/atom/" />
	<link rel="pingback" href="http://ios.jobbole.com/xmlrpc.php" />
	
	<!-- Theme Hook -->
	
<!-- This site is optimized with the Yoast WordPress SEO plugin v1.4.13 - http://yoast.com/wordpress/seo/ -->
<meta name="description" content="最近在技术群里，有人发了一张带有动画效果的图片。觉得很有意思，便动手实现了一下。在这篇文章中你将会学到Core Animation显式动画中的关键帧动画、组合动画、CABasicAnimation动画。先上一张原图的动画效果。"/>
<link rel="canonical" href="http://ios.jobbole.com/84329/" />
<meta property='og:locale' content='zh_CN'/>
<meta property='og:type' content='article'/>
<meta property='og:title' content='干货系列之手把手教你使用Core animation 做动画 - IOS - 伯乐在线'/>
<meta property='og:description' content='最近在技术群里，有人发了一张带有动画效果的图片。觉得很有意思，便动手实现了一下。在这篇文章中你将会学到Core Animation显式动画中的关键帧动画、组合动画、CABasicAnimation动画。先上一张原图的动画效果。'/>
<meta property='og:url' content='http://ios.jobbole.com/84329/'/>
<meta property='og:site_name' content='IOS - 伯乐在线'/>
<meta property='og:image' content='http://jbcdn2.b0.upaiyun.com/2016/03/decc8a052118d2b0accd214a66bd7c50.gif'/>
<meta property='og:image' content='http://jbcdn2.b0.upaiyun.com/2016/03/0060b43cb277e26da775a95f345fa9ea.gif'/>
<meta property='og:image' content='http://jbcdn2.b0.upaiyun.com/2016/03/0b529c9295b1ee5a9879f25ebd79a32a.png'/>
<meta property='og:image' content='http://jbcdn2.b0.upaiyun.com/2016/03/d402d813d0572fe0de4b6b586aa99704.gif'/>
<meta property='og:image' content='http://jbcdn2.b0.upaiyun.com/2016/03/e4a0f6ca5933cbc167b47468027bdc94.jpg'/>
<meta property='og:image' content='http://jbcdn2.b0.upaiyun.com/2016/03/749628cdbf5128675044fee1ee878fb2.jpg'/>
<meta property='og:image' content='http://jbcdn2.b0.upaiyun.com/2016/03/dc42aaf398d8917165e9c8de48c61b5a.png'/>
<meta property='og:image' content='http://jbcdn2.b0.upaiyun.com/2016/03/2fa7d963dafc3e2743f42c102578bf3e.jpg'/>
<meta property='og:image' content='http://jbcdn2.b0.upaiyun.com/2016/03/0351d2d5f8e89f75d32e70fdc3ff27f2.gif'/>
<meta property='og:image' content='http://jbcdn2.b0.upaiyun.com/2016/03/0c116761e5b6b9c2b1f818220e19bab2.jpg'/>
<meta property='og:image' content='http://jbcdn2.b0.upaiyun.com/2016/03/0ad124b28d8858d6e1987170295b1577.gif'/>
<meta property='og:image' content='http://jbcdn2.b0.upaiyun.com/2016/03/decc8a052118d2b0accd214a66bd7c501.gif'/>
<!-- / Yoast WordPress SEO plugin. -->

<link rel='stylesheet' id='dashicons-css'  href='http://ios.jobbole.com/wp-includes/css/dashicons.min.css?ver=4.5.7' type='text/css' media='all' />
<link rel='stylesheet' id='thickbox-css'  href='http://ios.jobbole.com/wp-includes/js/thickbox/thickbox.css?ver=4.5.7' type='text/css' media='all' />
<link rel='stylesheet' id='fancybox-css-css'  href='http://ios.jobbole.com/wp-content/plugins/jobbole-wp-plugin/css/jquery.fancybox.css?ver=2.1.5' type='text/css' media='all' />
<link rel='stylesheet' id='jobbole-wp-css-css'  href='http://ios.jobbole.com/wp-content/plugins/jobbole-wp-plugin/css/jobbole-wp-plugin.css?ver=1.0.30' type='text/css' media='all' />
<link rel='stylesheet' id='crayon_colorbox_css-css'  href='http://ios.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/util/tag-editor/colorbox/colorbox.css?ver=2.7.1.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon_style-css'  href='http://ios.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/css/src/crayon_style.css?ver=2.7.1.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon_global_style-css'  href='http://ios.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/css/src/global_style.css?ver=2.7.1.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-github-css'  href='http://ios.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/themes/github/github.css?ver=2.7.1.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='http://ios.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=2.7.1.1' type='text/css' media='all' />
<link rel='stylesheet' id='v48fv_images-css'  href='http://ios.jobbole.com/wp-content/plugins/mu-widgets/library/base/public/css/images.css?ver=1.2.v48fv' type='text/css' media='all' />
<link rel='stylesheet' id='v48fv_front-css'  href='http://ios.jobbole.com/wp-content/plugins/mu-widgets/library/base/public/css/front.css?ver=1.2.v48fv' type='text/css' media='all' />
<link rel='stylesheet' id='v48fv_common-css'  href='http://ios.jobbole.com/wp-content/plugins/mu-widgets/library/base/public/css/common.css?ver=1.2.v48fv' type='text/css' media='all' />
<script type='text/javascript' src='http://ios.jobbole.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/plugins/jobbole-wp-plugin/js/jquery.fancybox.pack.js?ver=2.1.5'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/plugins/jobbole-wp-plugin/js/superfish.js?ver=1.4.8'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/plugins/jobbole-wp-plugin/js/menu-effects.js?ver=1.5.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var JobboleAjax = {"ajaxurl":"http:\/\/ios.jobbole.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/plugins/jobbole-wp-plugin/js/jobbole-wp-plugin.js?ver=1.0.61'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/util/tag-editor/colorbox/jquery.colorbox-min.js?ver=2.7.1.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.7.1.1","is_admin":"0","ajaxurl":"http:\/\/ios.jobbole.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"\u4f7f\u7528 %s \u590d\u5236\uff0c\u4f7f\u7528 %s \u7c98\u8d34\u3002","minimize":"\u70b9\u51fb\u5c55\u5f00\u4ee3\u7801"};
/* ]]> */
</script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/js/src/util.js?ver=2.7.1.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonTagEditorSettings = {"home_url":"http:\/\/ios.jobbole.com","css":"crayon-te","css_selected":"crayon-selected","code_css":"#crayon-code","url_css":"#crayon-url","url_info_css":"#crayon-te-url-info","lang_css":"#crayon-lang","title_css":"#crayon-title","mark_css":"#crayon-mark","range_css":"#crayon-range","inline_css":"crayon-inline","inline_hide_css":"crayon-hide-inline","inline_hide_only_css":"crayon-hide-inline-only","hl_css":"#crayon-highlight","switch_html":"#content-html","switch_tmce":"#content-tmce","tinymce_button_generic":".mce-btn","tinymce_button":"a.mce_crayon_tinymce,.mce-i-crayon_tinymce","tinymce_button_unique":"mce_crayon_tinymce","tinymce_highlight":"mce-active","submit_css":"#crayon-te-ok","cancel_css":"#crayon-te-cancel","content_css":"#crayon-te-content","dialog_title_css":"#crayon-te-title","submit_wrapper_css":"#crayon-te-submit-wrapper","data_value":"data-value","attr_sep":":","css_sep":"_","fallback_lang":"objc","add_text":"Add Code","edit_text":"Edit Code","quicktag_text":"crayon","submit_add":"\u63d2\u5165","submit_edit":"\u4fdd\u5b58","bar":"#crayon-te-bar","bar_content":"#crayon-te-bar-content","extensions":{"scpt":"applescript","applescript":"applescript","swf":"as","fla":"as","cs":"c#","h":"c++","hh":"c++","hpp":"c++","hxx":"c++","h++":"c++","cc":"c++","cpp":"c++","cxx":"c++","c++":"c++","pas":"delphi","java":"java","class":"java","jar":"java","mv":"miva","mvc":"miva","mvt":"miva","m":"objc","mm":"objc","psc":"papyrus","pl":"perl","py":"python","pyw":"python","pyc":"python","pyo":"python","pyd":"python","rb":"ruby","rbx":"ruby","rhtml":"ruby","vbs":"vb"}};
/* ]]> */
</script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/util/tag-editor/crayon_tag_editor.js?ver=2.7.1.1'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/js/src/jquery.popup.js?ver=2.7.1.1'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/js/src/crayon.js?ver=2.7.1.1'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/modernizr.js?ver=2.5.3'></script>
<link rel='https://api.w.org/' href='http://ios.jobbole.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://ios.jobbole.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://ios.jobbole.com/wp-includes/wlwmanifest.xml" /> 
<link rel='shortlink' href='http://ios.jobbole.com/?p=84329' />
<link rel="alternate" type="application/json+oembed" href="http://ios.jobbole.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fios.jobbole.com%2F84329%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://ios.jobbole.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fios.jobbole.com%2F84329%2F&#038;format=xml" />
    <script type="text/javascript">
        jQuery(function($){
            $('.comment-reply-link').click(function(e){
                e.preventDefault();
                var args = $(this).data('onclick');
                args = args.replace(/.*\(|\)/gi, '').replace(/\"|\s+/g, '');
                args = args.split(',');
                tinymce.EditorManager.execCommand('mceRemoveEditor', true, 'comment_editor');
                addComment.moveForm.apply( addComment, args );
                tinymce.EditorManager.execCommand('mceAddEditor', true, 'comment_editor');
            });

            $('#cancel-comment-reply-link').click(function(e){
                e.preventDefault();
                tinymce.EditorManager.execCommand('mceRemoveEditor', true, 'comment_editor');
                tinymce.EditorManager.execCommand('mceAddEditor', true, 'comment_editor');
            });
        });
    </script>
	
	<!-- CSS -->
    <link rel="stylesheet" type="text/css" media="screen" href="http://ios.jobbole.com/wp-content/themes/jobboleblogv3/style.css?ver=1.0.66">
	<style>
				*::selection { background: #0099cc; }
		*::-moz-selection { background: #0099cc; }
		body {
            background: #ffffff         }

        a,
        .tabs ul.nav li a:hover,
        .tabs ul.nav li.active a,
        .dropcap,
        .toggle.hover .toggle-title,
        li.comment cite a:hover,
        h3.widget-title,
        .post-meta .meta-title:hover,
        .the-latest a:hover h4,
        .aw_socialcounter_widget li a:hover,
        .aw_tabbed_widget #tab-latest-comments a:hover
        {
            color: #0099cc;
        }

		a:hover { color: #b30000; }
		input:focus, textarea:focus { border-color: #0099cc; }

		#searchsubmit,
        .highlight,
        .aw_tabbed_widget .tabs ul.nav li.active a, footer .aw_tabbed_widget .tabs ul.nav li.active a,
        #top .aw_tabbed_widget .tabs ul.nav li.active a,
        .aw_tabbed_widget .tabs ul.nav li a:hover,
        footer .aw_tabbed_widget .tabs ul.nav li a:hover,
        #top .aw_tabbed_widget .tabs ul.nav li a:hover,
        .aw_twitter_widget .twitter-icon, .testimonial-icon,
        #top-closed:hover,
        .flex-control-nav a:hover,
        .flex-control-nav a.flex-active {
            background-color: #0099cc;
        }

		.submit { background-color: #0099cc; border-color: #007399; }
		.submit:hover { background-color: #b30000; border-color: #860000; }
		#searchsubmit:hover { background-color: #b30000; }
		.toggle.hover .toggle-icon { border-top-color: #0099cc; }
		.toggle.hover.active .toggle-icon { border-bottom-color: #0099cc; }
		.flex-direction-nav li .flex-prev:hover { border-right-color: #0099cc; }
		.flex-direction-nav li .flex-next:hover { border-left-color: #0099cc; }
		@media only screen and (min-width: 768px) and (max-width: 959px) {
			.aw_tabbed_widget .tabs ul.nav li a:hover, .tabs ul.nav li.active a { color: #0099cc; }
		}
		@media screen and (max-width: 767px) {
			.tabs ul.nav li a:hover, .tabs ul.nav li.active a { color: #0099cc; }
		}
	</style>

	<!--[if IE 8]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE9.js"></script>
    <![endif]-->

	<!-- Links: RSS + Atom Syndication + Pingback etc. -->
	<link rel="alternate" type="application/rss+xml" title="IOS &#8211; 伯乐在线 RSS Feed" href="http://ios.jobbole.com/feed/" />
	<link rel="alternate" type="text/xml" title="RSS .92" href="http://ios.jobbole.com/feed/rss/" />
	<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="http://ios.jobbole.com/feed/atom/" />
	<link rel="pingback" href="http://ios.jobbole.com/xmlrpc.php" />

<!-- END head -->
</head>

<!-- BEGIN body -->
<body class="single single-post postid-84329 single-format-standard chrome">

		
	    <nav id="top-nav" class="menu-nav">

        <!-- BEGIN .container -->
        <div class="container">

            <div class="grid-7 hide-on-480 hide-on-767">
                <ul id="menu-main-menu" class="menu left">
                    <li class="menu-item">
                        <a href="http://www.jobbole.com">首页</a>
                    </li>
                    <li class="menu-item">
                        <a href="http://top.jobbole.com">资讯</a>
                    </li>
                    <li class="menu-item">
                        <span><a href="http://blog.jobbole.com">文章 <i class="fa fa-angle-double-down"></i></a></span>
                        <ul class="sub-menu sf-js-enabled">
                            <li class="menu-item"><a href="http://blog.jobbole.com">全部文章</a></li>
                            <li class="menu-item"><a href="http://web.jobbole.com">Web前端</a></li>
                            <li class="menu-item"><a href="http://python.jobbole.com">Python开发</a></li>
                            <li class="menu-item"><a href="http://www.importnew.com/?utm_source=home-top-nav">Java技术</a></li>
                            <li class="menu-item"><a href="http://android.jobbole.com">Android应用</a></li>
                            <li class="menu-item"><a href="http://ios.jobbole.com">iOS应用</a></li>
                        </ul>
                    </li>
                    <li class="menu-item">
                        <a href="http://hao.jobbole.com">资源</a>
                    </li>

                    <li class="menu-item">
                        <a href="http://group.jobbole.com">小组</a>
                    </li>

                    <li class="menu-item">
                        <a href="http://date.jobbole.com"><i class="fa fa-heart-o pinkiconcolor"></i> 相亲</a>
                    </li>
                </ul>
            </div>

            <div class="grid-5">
                <ul id="menu-main-menu" class="menu">
                    <li class="menu-item hide-on-768-wider left">
                        <span><a href="#">频道 <i class="fa fa-angle-double-down"></i></a></span>
                        <ul class="sub-menu sf-js-enabled">
                            <li class="menu-item"><a href="http://www.jobbole.com">首页</a></li>
                            <li class="menu-item"><a href="http://top.jobbole.com">资讯</a></li>
                            <li class="menu-item"><a href="http://group.jobbole.com">小组</a></li>
                            <li class="menu-item"><a href="http://date.jobbole.com">相亲 <i class="fa fa-heart-o pinkiconcolor"></i></a></li>
                            <li class="menu-item"><a href="http://hao.jobbole.com">资源</a></li>
                            <li class="menu-item"><a href="http://blog.jobbole.com">全部文章</a></li>
                            <li class="menu-item"><a href="http://web.jobbole.com">前端</a></li>
                            <li class="menu-item"><a href="http://python.jobbole.com">Python</a></li>
                            <li class="menu-item"><a href="http://www.importnew.com/">Java</a></li>
                            <li class="menu-item"><a href="http://android.jobbole.com">安卓</a></li>
                            <li class="menu-item"><a href="http://ios.jobbole.com">iOS</a></li>
                        </ul>
                    </li>

                                            <li class="menu-item"><a href="http://www.jobbole.com/login?redirect=http%3A%2F%2Fios.jobbole.com%2F84329%2F"><i class="fa fa-sign-in"></i> 登录</a></li>
                        <li class="menu-item"><a href="http://www.jobbole.com/register"><i class="fa fa-user-plus"></i> 注册</a></li>
                    
                    
                    <li class="menu-item"><a title="帮助" href="http://blog.jobbole.com/87622/"><i class="fa fa-question-circle fa-lg"></i></a></li>
                </ul>
            </div>
            <div class="clear"></div>

        </div>
        <!-- END .container -->

    </nav>
    <!-- END #top-nav -->
  	
	<!-- BEGIN #wrapper -->
	<div id="wrapper" class="container">

		<!-- BEGIN header -->
		<header>
		
						
			<div class="header-wrapper">
								
				<!-- BEGIN #logo -->
				<div id="logo" class="leaderboard-true">
                    <a href="http://ios.jobbole.com"><img src="http://ios.jobbole.com/wp-content/themes/jobboleblogv3/_assets/img/jobbole-logo.png" alt="IOS &#8211; 伯乐在线" /></a>
				</div>
				<!-- END #logo -->
				
				<!-- BEGIN #leaderboard -->
				<div id="leaderboard">
				
					<a href='http://blog.jobbole.com/106093/' target='_blank'><img width='728' height='90' src='http://ww1.sinaimg.cn/mw690/bfdcef89gw1f9cf7deatvj20k802idgf.jpg' /></a>				
				</div>
				<!-- END #leaderboard -->
				
				<div class="clear"></div>
			
			</div>
			
						
			<div class="clear"></div>

            			<!-- BEGIN #main-nav -->
			<nav id="main-nav" class="grid-12 menu-nav">
                <div class="menu-sub-menu-container"><ul id="main-nav-menu" class="menu"><li id="menu-item-80800" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-80800"><a href="http://ios.jobbole.com/">首页</a></li>
<li id="menu-item-80799" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-80799"><a href="http://ios.jobbole.com/all-posts/">所有文章</a></li>
<li id="menu-item-80821" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-80821"><a href="http://ios.jobbole.com/category/news/">业界动态</a></li>
<li id="menu-item-80855" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-80855"><a href="http://ios.jobbole.com/category/ios-dev/">iOS开发</a></li>
<li id="menu-item-80856" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-80856"><a href="http://ios.jobbole.com/category/swift-dev/">Swift开发</a></li>
<li id="menu-item-80857" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-80857"><a href="http://ios.jobbole.com/category/marketing/">产品推广</a></li>
<li id="menu-item-80858" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-80858"><a href="http://ios.jobbole.com/category/product/">产品设计</a></li>
<li id="menu-item-87379" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-87379"><a href="http://group.jobbole.com/category/tech/ios-tech/">iOS小组</a></li>
<li id="menu-item-81507" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-81507"><a href="#">更多频道 ▼</a>
<ul class="sub-menu">
	<li id="menu-item-81511" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-81511"><a href="http://www.importnew.com">Java</a></li>
	<li id="menu-item-81510" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-81510"><a href="http://android.jobbole.com">Android</a></li>
	<li id="menu-item-81512" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-81512"><a href="http://python.jobbole.com">Python</a></li>
	<li id="menu-item-81513" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-81513"><a href="http://web.jobbole.com">Web前端</a></li>
</ul>
</li>
</ul></div>				<div class="clear"></div>
			</nav>
			<!-- END #main-nav -->
                        <div class="clear"></div>

		</header>
		<!-- END header -->
		
		<div id="breadcrumb" class="grid-12 margin-20"><div class="breadcrumb-wrapper"><!-- Breadcrumb NavXT 4.4.0 -->
<a title="Go to 伯乐在线." href="http://www.jobbole.com" class="main-home">伯乐在线</a> &gt; <a title="Go to IOS - 伯乐在线." href="http://ios.jobbole.com" class="home">IOS - 伯乐在线</a> &gt; <a title="Go to 所有文章." href="http://ios.jobbole.com/all-posts/" class="post-root post-post">所有文章</a> &gt; <a title="Go to the iOS开发 category archives." href="http://ios.jobbole.com/category/ios-dev/" class="category">iOS开发</a> &gt; 干货系列之手把手教你使用Core animation 做动画</div></div><div class="clear"></div>

<!-- BEGIN .grid-8 -->
<div class="grid-8">

		
	<!-- BEGIN .post -->
<div class="post-84329 post type-post status-publish format-standard hentry category-ios-dev tag-3786 odd" id="post-84329">
	
	<!-- BEGIN .entry-header -->
	<div class="entry-header">
	
				
		<h1>干货系列之手把手教你使用Core animation 做动画</h1>
		
							
	</div>
	<!-- BEGIN .entry-header -->
	
	<!-- BEGIN .entry-meta -->
	<div class="entry-meta">
	
		<p class="entry-meta-hide-on-mobile">

            2016/03/25 &middot;  <a href="http://ios.jobbole.com/category/ios-dev/" rel="category tag">iOS开发</a>
            
            

            
             &middot;  <a href="http://ios.jobbole.com/tag/%e5%8a%a8%e7%94%bb/">动画</a>
            
</p>

<!-- JiaThis Button BEGIN -->
<div class="jiathis_style" style="display: block; margin: 0 0px; clear: both;"><span class="jiathis_txt">分享到：</span>
<a class="jiathis_button_tsina"></a>
<a class="jiathis_button_weixin"></a>
<a class="jiathis_button_qzone"></a>
<a class="jiathis_button_fb"></a>
<a class="jiathis_button_douban"></a>
<a class="jiathis_button_readitlater"></a>
<a class="jiathis_button_evernote"></a>
<a class="jiathis_button_ydnote"></a>
<a href="http://www.jiathis.com/share?uid=1745061" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
<a class="jiathis_counter_style"></a>
</div>
<!-- JiaThis Button END -->


	</div>
	<!-- END .entry-meta -->

	<!-- BEGIN .entry -->
	<div class="entry">

        
		<div class='copyright-area'>原文出处： <a target='_blank' href='http://www.jianshu.com/p/1e2b8ff3519e'>Airfei</a>&nbsp;&nbsp;&nbsp;</div><div>
<blockquote><p><strong>源码下载：<a href="https://github.com/WZF-Fei/ZFChangeAnimation" target="_blank">源码</a></strong></p></blockquote>
<p>最近在技术群里，有人发了一张带有动画效果的图片。觉得很有意思，便动手实现了一下。在这篇文章中你将会学到Core Animation显式动画中的关键帧动画、组合动画、CABasicAnimation动画。先上一张原图的动画效果。</p>
<p>点击此查看<a href="https://github.com/WZF-Fei/ZFChangeAnimation/blob/master/origin%20animation.gif" target="_blank">原图动画效果</a>。</p>
<p>本文要实现的效果图如下：</p>
<div><img alt="" src="http://jbcdn2.b0.upaiyun.com/2016/03/decc8a052118d2b0accd214a66bd7c50.gif" />&nbsp;</p>
<div>实现的效果图.gif</div>
</div>
<p>把原动画gif动画在mac上使用图片浏览模式打开，我们可以看到动画每一帧的显示。从每一帧上的展示过程，可以把整体的动画进行拆分成两大部分。</p>
<p>第一部分（Part1）从初始状态变成取消状态（图片上是由横实线变成上线横线交叉的圆）。<br />
第二部分（Part2）从取消状态变回初始状态。</p>
<p>下面我们先详细分析Part1是怎么实现的。根据动画图，把Part1再细分成三步。</p>
<p>Step1 : 中间横实线的由右向左的运动效果。这其实是一个组合动画。是先向左偏移的同时横线变短。先看一下实现的动态效果。</p>
<div><img alt="" src="http://jbcdn2.b0.upaiyun.com/2016/03/0060b43cb277e26da775a95f345fa9ea.gif" />&nbsp;</p>
<div>step1 Animation.gif</div>
</div>
<p>■ 向左偏移&#8212;使用基本动画中<code>animationWithKeyPath</code>键值对的方式来改变动画的值。我们这里使用<code>position.x</code>,同样可以使用<code>transform.translation.x</code>来平移。</p>
<p>■ 改变横线的大小&#8212;使用经典的<code>strokeStart</code>和<code>strokeEnd</code>。其实上横线长度的变化的由<code>strokeStart</code>到<code>strokeEnd</code>之间的值来共同来决定。改变<code>strokeEnd</code>的值由1.0到0.4，不改变<code>strokeStart</code>的值。横线的长度会从右侧方向由1.0倍长度减少到0.4倍长度。参见示意图的红色区域。</p>
<div><img alt="" src="http://jbcdn2.b0.upaiyun.com/2016/03/0b529c9295b1ee5a9879f25ebd79a32a.png" />&nbsp;</p>
<div>stroke示意图.png</div>
</div>
<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5bdf0968367630" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
-(void) animationStep1{

    //最终changedLayer的状态
    _changedLayer.strokeEnd = 0.4;
    //基本动画，长度有1.0减少到0.4
    CABasicAnimation *strokeAnimation = [CABasicAnimation animationWithKeyPath:@"strokeEnd"];
    strokeAnimation.fromValue = [NSNumber numberWithFloat:1.0f];
    strokeAnimation.toValue = [NSNumber numberWithFloat:0.4f];
    //基本动画，向左偏移10个像素
    CABasicAnimation *pathAnimation = [CABasicAnimation animationWithKeyPath:@"position.x"];
    pathAnimation.fromValue = [NSNumber numberWithFloat:0.0];
    pathAnimation.toValue = [NSNumber numberWithFloat:-10];
    //组合动画，平移和长度减少同时进行
    CAAnimationGroup *animationGroup = [CAAnimationGroup animation];
    animationGroup.animations = [NSArray arrayWithObjects:strokeAnimation,pathAnimation, nil];
    animationGroup.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseIn];
    animationGroup.duration = kStep1Duration;
    //设置代理
    animationGroup.delegate = self;
    animationGroup.removedOnCompletion = YES;
    //监听动画
    [animationGroup setValue:@"animationStep1" forKey:@"animationName"];
    //动画加入到changedLayer上
    [_changedLayer addAnimation:animationGroup forKey:nil];
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5bdf0968367630-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdf0968367630-2">2</div><div class="crayon-num" data-line="crayon-58cf866c5bdf0968367630-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdf0968367630-4">4</div><div class="crayon-num" data-line="crayon-58cf866c5bdf0968367630-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdf0968367630-6">6</div><div class="crayon-num" data-line="crayon-58cf866c5bdf0968367630-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdf0968367630-8">8</div><div class="crayon-num" data-line="crayon-58cf866c5bdf0968367630-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdf0968367630-10">10</div><div class="crayon-num" data-line="crayon-58cf866c5bdf0968367630-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdf0968367630-12">12</div><div class="crayon-num" data-line="crayon-58cf866c5bdf0968367630-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdf0968367630-14">14</div><div class="crayon-num" data-line="crayon-58cf866c5bdf0968367630-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdf0968367630-16">16</div><div class="crayon-num" data-line="crayon-58cf866c5bdf0968367630-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdf0968367630-18">18</div><div class="crayon-num" data-line="crayon-58cf866c5bdf0968367630-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdf0968367630-20">20</div><div class="crayon-num" data-line="crayon-58cf866c5bdf0968367630-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdf0968367630-22">22</div><div class="crayon-num" data-line="crayon-58cf866c5bdf0968367630-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdf0968367630-24">24</div><div class="crayon-num" data-line="crayon-58cf866c5bdf0968367630-25">25</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5bdf0968367630-1"><span class="crayon-o">-</span><span class="crayon-sy">(</span><span class="crayon-t">void</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">animationStep1</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdf0968367630-2">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5bdf0968367630-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//最终changedLayer的状态</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdf0968367630-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_changedLayer</span><span class="crayon-sy">.</span><span class="crayon-v">strokeEnd</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0.4</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdf0968367630-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//基本动画，长度有1.0减少到0.4</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdf0968367630-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CABasicAnimation *</span><span class="crayon-v">strokeAnimation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CABasicAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"strokeEnd"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdf0968367630-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">strokeAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">fromValue</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-cn">1.0f</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdf0968367630-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">strokeAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">toValue</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-cn">0.4f</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdf0968367630-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//基本动画，向左偏移10个像素</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdf0968367630-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CABasicAnimation *</span><span class="crayon-v">pathAnimation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CABasicAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"position.x"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdf0968367630-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pathAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">fromValue</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-cn">0.0</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdf0968367630-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pathAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">toValue</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-o">-</span><span class="crayon-cn">10</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdf0968367630-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//组合动画，平移和长度减少同时进行</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdf0968367630-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAAnimationGroup *</span><span class="crayon-v">animationGroup</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAAnimationGroup </span><span class="crayon-v">animation</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdf0968367630-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">animations</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSArray </span><span class="crayon-v">arrayWithObjects</span><span class="crayon-o">:</span><span class="crayon-v">strokeAnimation</span><span class="crayon-sy">,</span><span class="crayon-v">pathAnimation</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdf0968367630-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">timingFunction</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAMediaTimingFunction </span><span class="crayon-v">functionWithName</span><span class="crayon-o">:</span><span class="crayon-v">kCAMediaTimingFunctionEaseIn</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdf0968367630-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">duration</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">kStep1Duration</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdf0968367630-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//设置代理</span></div><div class="crayon-line" id="crayon-58cf866c5bdf0968367630-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">delegate</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdf0968367630-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">removedOnCompletion</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">YES</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdf0968367630-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//监听动画</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdf0968367630-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">animationGroup </span><span class="crayon-v">setValue</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"animationStep1"</span><span class="crayon-h"> </span><span class="crayon-v">forKey</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"animationName"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdf0968367630-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//动画加入到changedLayer上</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdf0968367630-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">_changedLayer </span><span class="crayon-v">addAnimation</span><span class="crayon-o">:</span><span class="crayon-e">animationGroup </span><span class="crayon-v">forKey</span><span class="crayon-o">:</span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdf0968367630-25"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0049 seconds] -->
<p>Step2 : 由左向右的动画&#8211;向右偏移同时横线长度变长。看一下Step2要实现的动画效果。其思路和Step1是一样的。</p>
<div><img alt="" src="http://jbcdn2.b0.upaiyun.com/2016/03/d402d813d0572fe0de4b6b586aa99704.gif" />&nbsp;</p>
<div>step2 Animation.gif</div>
</div>
<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5bdfc701988658" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
-(void)animationStep2
{
    CABasicAnimation *translationAnimation = [CABasicAnimation animationWithKeyPath:@"transform.translation.x"];
    translationAnimation.fromValue = [NSNumber numberWithFloat:-10];
    //strokeEnd:0.8 剩余的距离toValue = lineWidth * (1 - 0.8);

    translationAnimation.toValue = [NSNumber numberWithFloat:0.2 * lineWidth ];

    _changedLayer.strokeEnd = 0.8;
    CABasicAnimation *strokeAnimation = [CABasicAnimation animationWithKeyPath:@"strokeEnd"];
    strokeAnimation.fromValue = [NSNumber numberWithFloat:0.4f];
    strokeAnimation.toValue = [NSNumber numberWithFloat:0.8f];

    CAAnimationGroup *animationGroup = [CAAnimationGroup animation];
    animationGroup.animations = [NSArray arrayWithObjects:strokeAnimation,translationAnimation, nil];
    animationGroup.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseOut];
    animationGroup.duration = kStep2Duration;
    //设置代理
    animationGroup.delegate = self;
    animationGroup.removedOnCompletion = YES;
    [animationGroup setValue:@"animationStep2" forKey:@"animationName"];
    [_changedLayer addAnimation:animationGroup forKey:nil];
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5bdfc701988658-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdfc701988658-2">2</div><div class="crayon-num" data-line="crayon-58cf866c5bdfc701988658-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdfc701988658-4">4</div><div class="crayon-num" data-line="crayon-58cf866c5bdfc701988658-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdfc701988658-6">6</div><div class="crayon-num" data-line="crayon-58cf866c5bdfc701988658-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdfc701988658-8">8</div><div class="crayon-num" data-line="crayon-58cf866c5bdfc701988658-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdfc701988658-10">10</div><div class="crayon-num" data-line="crayon-58cf866c5bdfc701988658-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdfc701988658-12">12</div><div class="crayon-num" data-line="crayon-58cf866c5bdfc701988658-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdfc701988658-14">14</div><div class="crayon-num" data-line="crayon-58cf866c5bdfc701988658-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdfc701988658-16">16</div><div class="crayon-num" data-line="crayon-58cf866c5bdfc701988658-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdfc701988658-18">18</div><div class="crayon-num" data-line="crayon-58cf866c5bdfc701988658-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdfc701988658-20">20</div><div class="crayon-num" data-line="crayon-58cf866c5bdfc701988658-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5bdfc701988658-22">22</div><div class="crayon-num" data-line="crayon-58cf866c5bdfc701988658-23">23</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5bdfc701988658-1"><span class="crayon-o">-</span><span class="crayon-sy">(</span><span class="crayon-t">void</span><span class="crayon-sy">)</span><span class="crayon-e">animationStep2</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdfc701988658-2"><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58cf866c5bdfc701988658-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CABasicAnimation *</span><span class="crayon-v">translationAnimation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CABasicAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"transform.translation.x"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdfc701988658-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">translationAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">fromValue</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-o">-</span><span class="crayon-cn">10</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdfc701988658-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//strokeEnd:0.8 剩余的距离toValue = lineWidth * (1 - 0.8);</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdfc701988658-6">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5bdfc701988658-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">translationAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">toValue</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-cn">0.2</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-i">lineWidth</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdfc701988658-8">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5bdfc701988658-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_changedLayer</span><span class="crayon-sy">.</span><span class="crayon-v">strokeEnd</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0.8</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdfc701988658-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CABasicAnimation *</span><span class="crayon-v">strokeAnimation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CABasicAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"strokeEnd"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdfc701988658-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">strokeAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">fromValue</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-cn">0.4f</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdfc701988658-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">strokeAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">toValue</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-cn">0.8f</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdfc701988658-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdfc701988658-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAAnimationGroup *</span><span class="crayon-v">animationGroup</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAAnimationGroup </span><span class="crayon-v">animation</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdfc701988658-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">animations</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSArray </span><span class="crayon-v">arrayWithObjects</span><span class="crayon-o">:</span><span class="crayon-v">strokeAnimation</span><span class="crayon-sy">,</span><span class="crayon-v">translationAnimation</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdfc701988658-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">timingFunction</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAMediaTimingFunction </span><span class="crayon-v">functionWithName</span><span class="crayon-o">:</span><span class="crayon-v">kCAMediaTimingFunctionEaseOut</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdfc701988658-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">duration</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">kStep2Duration</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdfc701988658-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//设置代理</span></div><div class="crayon-line" id="crayon-58cf866c5bdfc701988658-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">delegate</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdfc701988658-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">removedOnCompletion</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">YES</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdfc701988658-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">animationGroup </span><span class="crayon-v">setValue</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"animationStep2"</span><span class="crayon-h"> </span><span class="crayon-v">forKey</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"animationName"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5bdfc701988658-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">_changedLayer </span><span class="crayon-v">addAnimation</span><span class="crayon-o">:</span><span class="crayon-e">animationGroup </span><span class="crayon-v">forKey</span><span class="crayon-o">:</span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5bdfc701988658-23"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0047 seconds] -->
<p>Step3: 圆弧的动画效果和上下两个横实线的动画效果。</p>
<ol>
<li>画圆弧，首先想到是使用<code>UIBezierPath</code>。画个示意图来分析动画路径。示意图如下：</li>
</ol>
<div><img alt="" src="http://jbcdn2.b0.upaiyun.com/2016/03/e4a0f6ca5933cbc167b47468027bdc94.jpg" />&nbsp;</p>
<div>step3 示意图.jpg</div>
</div>
<p>整个path路径是由三部分组成，<code>ABC曲线</code>、<code>CD圆弧</code>、<code>DD′圆</code>。<br />
使用<code>UIBezierPath</code>的方法</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be02274700002" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
- (void)appendPath:(UIBezierPath *)bezierPath;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be02274700002-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be02274700002-1"><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">void</span><span class="crayon-sy">)</span><span class="crayon-v">appendPath</span><span class="crayon-o">:</span><span class="crayon-sy">(</span><span class="crayon-e ">UIBezierPath *</span><span class="crayon-sy">)</span><span class="crayon-v">bezierPath</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>把三部分路径关联起来。详细讲解思路。</p>
<p>• <code>ABC曲线</code>就是贝塞尔曲线，可以根据A、B、C三点的位置使用方法</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be05689817321" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
//endPoint 终点坐标 controlPoint1 起点坐标
//controlPoint2 起点和终点在曲线上的切点延伸相交的交点坐标
- (void)addCurveToPoint:(CGPoint)endPoint 
          controlPoint1:(CGPoint)controlPoint1 
          controlPoint2:(CGPoint)controlPoint2;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be05689817321-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be05689817321-2">2</div><div class="crayon-num" data-line="crayon-58cf866c5be05689817321-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be05689817321-4">4</div><div class="crayon-num" data-line="crayon-58cf866c5be05689817321-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be05689817321-1"><span class="crayon-c">//endPoint 终点坐标 controlPoint1 起点坐标</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be05689817321-2"><span class="crayon-c">//controlPoint2 起点和终点在曲线上的切点延伸相交的交点坐标</span></div><div class="crayon-line" id="crayon-58cf866c5be05689817321-3"><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">void</span><span class="crayon-sy">)</span><span class="crayon-v">addCurveToPoint</span><span class="crayon-o">:</span><span class="crayon-sy">(</span><span class="crayon-v">CGPoint</span><span class="crayon-sy">)</span><span class="crayon-e">endPoint </span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be05689817321-4"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">controlPoint1</span><span class="crayon-o">:</span><span class="crayon-sy">(</span><span class="crayon-v">CGPoint</span><span class="crayon-sy">)</span><span class="crayon-e">controlPoint1 </span></div><div class="crayon-line" id="crayon-58cf866c5be05689817321-5"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">controlPoint2</span><span class="crayon-o">:</span><span class="crayon-sy">(</span><span class="crayon-v">CGPoint</span><span class="crayon-sy">)</span><span class="crayon-v">controlPoint2</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p>二次贝塞尔曲线示意图如下：</p>
<div><img alt="" src="http://jbcdn2.b0.upaiyun.com/2016/03/749628cdbf5128675044fee1ee878fb2.jpg" />&nbsp;</p>
<div>二次贝塞尔曲线.png</div>
</div>
<p>其中control point 点是从曲线上取 start point和end point 切点相交汇的所得到的交点。如下图：</p>
<div><img alt="" src="http://jbcdn2.b0.upaiyun.com/2016/03/dc42aaf398d8917165e9c8de48c61b5a.png" />&nbsp;</p>
<div>control point .png</div>
</div>
<p>首先C点取圆上的一点，-30°。那么，</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be09436903860" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
CGFloat angle = Radians(30);</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be09436903860-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be09436903860-1"><span class="crayon-e">CGFloat </span><span class="crayon-v">angle</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-cn">30</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>C点坐标为：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be0c254606656" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
    //C点
    CGFloat endPointX = self.center.x + Raduis * cos(angle);
    CGFloat endPointY = kCenterY - Raduis * sin(angle);</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be0c254606656-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be0c254606656-2">2</div><div class="crayon-num" data-line="crayon-58cf866c5be0c254606656-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be0c254606656-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//C点</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be0c254606656-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">endPointX</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">center</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e ">Raduis *</span><span class="crayon-h"> </span><span class="crayon-e">cos</span><span class="crayon-sy">(</span><span class="crayon-v">angle</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be0c254606656-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">endPointY</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">kCenterY</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e ">Raduis *</span><span class="crayon-h"> </span><span class="crayon-e">sin</span><span class="crayon-sy">(</span><span class="crayon-v">angle</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>A点坐标为：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be0f552780897" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
    //A点 取横线最右边的点
    CGFloat startPointX = self.center.x + lineWidth/2.0 ;
    CGFloat startPointY = controlPointY;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be0f552780897-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be0f552780897-2">2</div><div class="crayon-num" data-line="crayon-58cf866c5be0f552780897-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be0f552780897-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//A点 取横线最右边的点</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be0f552780897-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">startPointX</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">center</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lineWidth</span><span class="crayon-o">/</span><span class="crayon-cn">2.0</span><span class="crayon-h"> </span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be0f552780897-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">startPointY</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">controlPointY</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>control point 为E点：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be12116628859" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
    //E点 半径*反余弦(30°)
    CGFloat startPointX = self.center.x + Raduis *acos(angle);
    CGFloat startPointY = controlPointY;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be12116628859-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be12116628859-2">2</div><div class="crayon-num" data-line="crayon-58cf866c5be12116628859-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be12116628859-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//E点 半径*反余弦(30°)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be12116628859-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">startPointX</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">center</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e ">Raduis *</span><span class="crayon-e">acos</span><span class="crayon-sy">(</span><span class="crayon-v">angle</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be12116628859-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">startPointY</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">controlPointY</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>• <code>CD圆弧</code>的路径使用此方法确定</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be15048012923" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
+ (instancetype)bezierPathWithArcCenter:(CGPoint)center radius:(CGFloat)radius startAngle:(CGFloat)startAngle endAngle:(CGFloat)endAngle clockwise:(BOOL)clockwise;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be15048012923-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be15048012923-1"><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">instancetype</span><span class="crayon-sy">)</span><span class="crayon-v">bezierPathWithArcCenter</span><span class="crayon-o">:</span><span class="crayon-sy">(</span><span class="crayon-v">CGPoint</span><span class="crayon-sy">)</span><span class="crayon-e">center </span><span class="crayon-v">radius</span><span class="crayon-o">:</span><span class="crayon-sy">(</span><span class="crayon-v">CGFloat</span><span class="crayon-sy">)</span><span class="crayon-e">radius </span><span class="crayon-v">startAngle</span><span class="crayon-o">:</span><span class="crayon-sy">(</span><span class="crayon-v">CGFloat</span><span class="crayon-sy">)</span><span class="crayon-e">startAngle </span><span class="crayon-v">endAngle</span><span class="crayon-o">:</span><span class="crayon-sy">(</span><span class="crayon-v">CGFloat</span><span class="crayon-sy">)</span><span class="crayon-e">endAngle </span><span class="crayon-v">clockwise</span><span class="crayon-o">:</span><span class="crayon-sy">(</span><span class="crayon-t">BOOL</span><span class="crayon-sy">)</span><span class="crayon-v">clockwise</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>关于弧度问题，UIBezierPath的官方文档中的这张图：</p>
<div><img alt="" src="http://jbcdn2.b0.upaiyun.com/2016/03/2fa7d963dafc3e2743f42c102578bf3e.jpg" />&nbsp;</p>
<div>弧度.jpg</div>
</div>
<p>StartAngle 弧度即C点弧度，EndAngel弧度即D点弧度。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be19435558531" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
CGFloat StartAngle = 2 * M_PI - angle;
CGFloat EndAngle = M_PI + angle;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be19435558531-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be19435558531-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be19435558531-1"><span class="crayon-e">CGFloat </span><span class="crayon-v">StartAngle</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">angle</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be19435558531-2"><span class="crayon-e">CGFloat </span><span class="crayon-v">EndAngle</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">angle</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>• <code>DD′圆</code>的路径和上面2一样的方法确定。</p>
<p>StartAngle 弧度即D点弧度，EndAngel弧度即D′点弧度。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be1c720587449" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
CGFloat StartAngle = M_PI *3/2 - (M_PI_2 -angle);
CGFloat EndAngle = -M_PI_2 - (M_PI_2 -angle);</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be1c720587449-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1c720587449-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be1c720587449-1"><span class="crayon-e">CGFloat </span><span class="crayon-v">StartAngle</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e ">M_PI *</span><span class="crayon-cn">3</span><span class="crayon-o">/</span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">M_PI_2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">angle</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1c720587449-2"><span class="crayon-e">CGFloat </span><span class="crayon-v">EndAngle</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">M_PI_2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">M_PI_2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">angle</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>下面部分代码是所有path路径。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be1f332774805" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
    UIBezierPath *path = [UIBezierPath bezierPath];

    // 画贝塞尔曲线 圆弧
    [path moveToPoint:CGPointMake(self.center.x +  lineWidth/2.0 , kCenterY)];

     CGFloat angle = Radians(30);
    //C点
    CGFloat endPointX = self.center.x + Raduis * cos(angle);
    CGFloat endPointY = kCenterY - Raduis * sin(angle);
    //A点
    CGFloat startPointX = self.center.x + lineWidth/2.0;
    CGFloat startPointY = kCenterY;
    //E点 半径*反余弦(30°)
    CGFloat controlPointX = self.center.x + Raduis *acos(angle);
    CGFloat controlPointY = kCenterY;

    //贝塞尔曲线 ABC曲线
    [path addCurveToPoint:CGPointMake(endPointX, endPointY)
            controlPoint1:CGPointMake(startPointX , startPointY)
            controlPoint2:CGPointMake(controlPointX , controlPointY)];

    // （360°- 30°） -&gt;（180°+30°） 逆时针的圆弧 CD圆弧
    UIBezierPath *path1 = [UIBezierPath bezierPathWithArcCenter:CGPointMake(self.center.x,kCenterY)
                                                         radius:Raduis
                                                     startAngle:2 * M_PI - angle
                                                       endAngle:M_PI + angle
                                                      clockwise:NO];
    [path appendPath:path1];
     // （3/2π- 60°） -&gt;（-1/2π -60°） 逆时针的圆 DD′圆
    UIBezierPath *path2 = [UIBezierPath bezierPathWithArcCenter:CGPointMake(self.center.x,kCenterY)
                                                        radius:Raduis
                                                    startAngle:M_PI *3/2 - (M_PI_2 -angle)
                                                      endAngle:-M_PI_2 - (M_PI_2 -angle)
                                                     clockwise:NO];

    [path appendPath:path2];

    _changedLayer.path = path.CGPath;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-2">2</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-4">4</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-6">6</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-8">8</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-10">10</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-12">12</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-14">14</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-16">16</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-18">18</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-20">20</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-22">22</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-24">24</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-26">26</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-28">28</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-30">30</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-32">32</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-34">34</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-36">36</div><div class="crayon-num" data-line="crayon-58cf866c5be1f332774805-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be1f332774805-38">38</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be1f332774805-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">UIBezierPath *</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">UIBezierPath </span><span class="crayon-v">bezierPath</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-2">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// 画贝塞尔曲线 圆弧</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">path </span><span class="crayon-v">moveToPoint</span><span class="crayon-o">:</span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">center</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">lineWidth</span><span class="crayon-o">/</span><span class="crayon-cn">2.0</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">kCenterY</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">CGFloat </span><span class="crayon-v">angle</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-cn">30</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//C点</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">endPointX</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">center</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e ">Raduis *</span><span class="crayon-h"> </span><span class="crayon-e">cos</span><span class="crayon-sy">(</span><span class="crayon-v">angle</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">endPointY</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">kCenterY</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e ">Raduis *</span><span class="crayon-h"> </span><span class="crayon-e">sin</span><span class="crayon-sy">(</span><span class="crayon-v">angle</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//A点</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">startPointX</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">center</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lineWidth</span><span class="crayon-o">/</span><span class="crayon-cn">2.0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">startPointY</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">kCenterY</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//E点 半径*反余弦(30°)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">controlPointX</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">center</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e ">Raduis *</span><span class="crayon-e">acos</span><span class="crayon-sy">(</span><span class="crayon-v">angle</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">controlPointY</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">kCenterY</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-16">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//贝塞尔曲线 ABC曲线</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">path </span><span class="crayon-v">addCurveToPoint</span><span class="crayon-o">:</span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-v">endPointX</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">endPointY</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">controlPoint1</span><span class="crayon-o">:</span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-i">startPointX</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">startPointY</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">controlPoint2</span><span class="crayon-o">:</span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-i">controlPointX</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">controlPointY</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// （360°- 30°） -&gt;（180°+30°） 逆时针的圆弧 CD圆弧</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">UIBezierPath *</span><span class="crayon-v">path1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">UIBezierPath </span><span class="crayon-v">bezierPathWithArcCenter</span><span class="crayon-o">:</span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">center</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-v">kCenterY</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">radius</span><span class="crayon-o">:</span><span class="crayon-e">Raduis</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-25"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">startAngle</span><span class="crayon-o">:</span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">angle</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-26"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">endAngle</span><span class="crayon-o">:</span><span class="crayon-v">M_PI</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">angle</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-27"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">clockwise</span><span class="crayon-o">:</span><span class="crayon-v">NO</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">path </span><span class="crayon-v">appendPath</span><span class="crayon-o">:</span><span class="crayon-v">path1</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// （3/2π- 60°） -&gt;（-1/2π -60°） 逆时针的圆 DD′圆</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">UIBezierPath *</span><span class="crayon-v">path2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">UIBezierPath </span><span class="crayon-v">bezierPathWithArcCenter</span><span class="crayon-o">:</span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">center</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-v">kCenterY</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">radius</span><span class="crayon-o">:</span><span class="crayon-e">Raduis</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-32"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">startAngle</span><span class="crayon-o">:</span><span class="crayon-e ">M_PI *</span><span class="crayon-cn">3</span><span class="crayon-o">/</span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">M_PI_2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">angle</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">endAngle</span><span class="crayon-o">:</span><span class="crayon-o">-</span><span class="crayon-v">M_PI_2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">M_PI_2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">angle</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">clockwise</span><span class="crayon-o">:</span><span class="crayon-v">NO</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">path </span><span class="crayon-v">appendPath</span><span class="crayon-o">:</span><span class="crayon-v">path2</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be1f332774805-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be1f332774805-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_changedLayer</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-v">CGPath</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0074 seconds] -->
<p>Path路径有了，接着实现动画效果。<br />
圆弧的长度逐渐变长。我们还是使用经典的<code>strokeStart</code>和<code>strokeEnd</code>。但是圆弧是如何变长的呢？</p>
<p>(1) 初始圆弧有一段长度。<br />
(2) 在原始长度的基础上逐渐变长，逐渐远离A点，同时要在D点停止。<br />
(3) 长度逐渐变长，最终要在D与D′点交汇。</p>
<p>我们分别解决这个三个问题。</p>
<p>第一个问题，<code>strokeEnd - strokeStart &gt; 0</code>这样能保证有一段圆弧。</p>
<p>第二个问题，逐渐变长,意味着<code>strokeEnd</code>值不断变大。远离A点意味着<code>strokeStart</code>的值不断变大。在D点停止，说明了<code>strokeStart</code>有上限值。</p>
<p>第三个问题，意味着<code>strokeEnd</code>值不断变大，最终值为1.0。</p>
<p>这三个问题说明了一个问题，<code>strokeEnd</code>和<code>strokeStart</code>是一组变化的数据。</p>
<p>那么core animation 中可以控制一组值的动画是关键帧动画（<code>CAKeyframeAnimation</code>）。</p>
<p>为了更准确的给出<code>strokeEnd</code>和<code>strokeStart</code>值，我们使用<code>长度比</code>来确定。</p>
<p>假设我们初始的长度就是曲线ABC的长度。但是贝塞尔曲线长度怎么计算？使用下面方法:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be24698475386" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
//求贝塞尔曲线长度
-(CGFloat) bezierCurveLengthFromStartPoint:(CGPoint)start toEndPoint:(CGPoint) end withControlPoint:(CGPoint) control
{
    const int kSubdivisions = 50;
    const float step = 1.0f/(float)kSubdivisions;

    float totalLength = 0.0f;
    CGPoint prevPoint = start;

    // starting from i = 1, since for i = 0 calulated point is equal to start point
    for (int i = 1; i &lt;= kSubdivisions; i++)
    {
        float t = i*step;

        float x = (1.0 - t)*(1.0 - t)*start.x + 2.0*(1.0 - t)*t*control.x + t*t*end.x;
        float y = (1.0 - t)*(1.0 - t)*start.y + 2.0*(1.0 - t)*t*control.y + t*t*end.y;

        CGPoint diff = CGPointMake(x - prevPoint.x, y - prevPoint.y);

        totalLength += sqrtf(diff.x*diff.x + diff.y*diff.y); // Pythagorean

        prevPoint = CGPointMake(x, y);
    }

    return totalLength;
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be24698475386-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be24698475386-2">2</div><div class="crayon-num" data-line="crayon-58cf866c5be24698475386-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be24698475386-4">4</div><div class="crayon-num" data-line="crayon-58cf866c5be24698475386-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be24698475386-6">6</div><div class="crayon-num" data-line="crayon-58cf866c5be24698475386-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be24698475386-8">8</div><div class="crayon-num" data-line="crayon-58cf866c5be24698475386-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be24698475386-10">10</div><div class="crayon-num" data-line="crayon-58cf866c5be24698475386-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be24698475386-12">12</div><div class="crayon-num" data-line="crayon-58cf866c5be24698475386-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be24698475386-14">14</div><div class="crayon-num" data-line="crayon-58cf866c5be24698475386-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be24698475386-16">16</div><div class="crayon-num" data-line="crayon-58cf866c5be24698475386-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be24698475386-18">18</div><div class="crayon-num" data-line="crayon-58cf866c5be24698475386-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be24698475386-20">20</div><div class="crayon-num" data-line="crayon-58cf866c5be24698475386-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be24698475386-22">22</div><div class="crayon-num" data-line="crayon-58cf866c5be24698475386-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be24698475386-24">24</div><div class="crayon-num" data-line="crayon-58cf866c5be24698475386-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be24698475386-26">26</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be24698475386-1"><span class="crayon-c">//求贝塞尔曲线长度</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be24698475386-2"><span class="crayon-o">-</span><span class="crayon-sy">(</span><span class="crayon-v">CGFloat</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">bezierCurveLengthFromStartPoint</span><span class="crayon-o">:</span><span class="crayon-sy">(</span><span class="crayon-v">CGPoint</span><span class="crayon-sy">)</span><span class="crayon-e">start </span><span class="crayon-v">toEndPoint</span><span class="crayon-o">:</span><span class="crayon-sy">(</span><span class="crayon-v">CGPoint</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">end</span><span class="crayon-h"> </span><span class="crayon-v">withControlPoint</span><span class="crayon-o">:</span><span class="crayon-sy">(</span><span class="crayon-v">CGPoint</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">control</span></div><div class="crayon-line" id="crayon-58cf866c5be24698475386-3"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be24698475386-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">kSubdivisions</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">50</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be24698475386-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-t">float</span><span class="crayon-h"> </span><span class="crayon-v">step</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1.0f</span><span class="crayon-o">/</span><span class="crayon-sy">(</span><span class="crayon-t">float</span><span class="crayon-sy">)</span><span class="crayon-v">kSubdivisions</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be24698475386-6">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be24698475386-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">float</span><span class="crayon-h"> </span><span class="crayon-v">totalLength</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0.0f</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be24698475386-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGPoint </span><span class="crayon-v">prevPoint</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">start</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be24698475386-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be24698475386-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// starting from i = 1, since for i = 0 calulated point is equal to start point</span></div><div class="crayon-line" id="crayon-58cf866c5be24698475386-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;=</span><span class="crayon-h"> </span><span class="crayon-v">kSubdivisions</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be24698475386-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58cf866c5be24698475386-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">float</span><span class="crayon-h"> </span><span class="crayon-v">t</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e ">i*</span><span class="crayon-v">step</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be24698475386-14">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be24698475386-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">float</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">1.0</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">t</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-sy">(</span><span class="crayon-cn">1.0</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">t</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-v">start</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">2.0</span><span class="crayon-o">*</span><span class="crayon-sy">(</span><span class="crayon-cn">1.0</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">t</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-e ">t*</span><span class="crayon-v">control</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e ">t*</span><span class="crayon-e ">t*</span><span class="crayon-st">end</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be24698475386-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">float</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">1.0</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">t</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-sy">(</span><span class="crayon-cn">1.0</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">t</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-v">start</span><span class="crayon-sy">.</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">2.0</span><span class="crayon-o">*</span><span class="crayon-sy">(</span><span class="crayon-cn">1.0</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">t</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-e ">t*</span><span class="crayon-v">control</span><span class="crayon-sy">.</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e ">t*</span><span class="crayon-e ">t*</span><span class="crayon-st">end</span><span class="crayon-sy">.</span><span class="crayon-v">y</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be24698475386-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be24698475386-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGPoint </span><span class="crayon-v">diff</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">prevPoint</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">prevPoint</span><span class="crayon-sy">.</span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be24698475386-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be24698475386-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">totalLength</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-e">sqrtf</span><span class="crayon-sy">(</span><span class="crayon-v">diff</span><span class="crayon-sy">.</span><span class="crayon-e ">x*</span><span class="crayon-v">diff</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">diff</span><span class="crayon-sy">.</span><span class="crayon-e ">y*</span><span class="crayon-v">diff</span><span class="crayon-sy">.</span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Pythagorean</span></div><div class="crayon-line" id="crayon-58cf866c5be24698475386-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be24698475386-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">prevPoint</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be24698475386-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be24698475386-24">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be24698475386-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">totalLength</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be24698475386-26"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0063 seconds] -->
<p>计算贝塞尔曲线所在的比例为：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be28954247896" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
CGFloat orignPercent = [self calculateCurveLength]/[self calculateTotalLength];</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be28954247896-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be28954247896-1"><span class="crayon-e">CGFloat </span><span class="crayon-v">orignPercent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-r">self</span><span class="crayon-h"> </span><span class="crayon-v">calculateCurveLength</span><span class="crayon-sy">]</span><span class="crayon-o">/</span><span class="crayon-sy">[</span><span class="crayon-r">self</span><span class="crayon-h"> </span><span class="crayon-v">calculateTotalLength</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p>初始的<code>strokeStart = 0</code>、<code>strokeEnd = orignPercent</code>。<br />
最终的<code>stokeStart = ？</code></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be2b793627960" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
//结果就是贝塞尔曲线长度加上120°圆弧的长度与总长度相比得到的结果。
CGFloat endPercent =([self calculateCurveLength] + Radians(120) *Raduis ) / [self calculateTotalLength];</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be2b793627960-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be2b793627960-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be2b793627960-1"><span class="crayon-c">//结果就是贝塞尔曲线长度加上120°圆弧的长度与总长度相比得到的结果。</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be2b793627960-2"><span class="crayon-e">CGFloat </span><span class="crayon-v">endPercent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-r">self</span><span class="crayon-h"> </span><span class="crayon-v">calculateCurveLength</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-cn">120</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-i">Raduis</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-r">self</span><span class="crayon-h"> </span><span class="crayon-v">calculateTotalLength</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>实现动画的代码为</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be2e085839186" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
    CGFloat orignPercent = [self calculateCurveLength] / [self calculateTotalLength];
    CGFloat endPercent =([self calculateCurveLength] + Radians(120) *Raduis ) / [self calculateTotalLength];

    _changedLayer.strokeStart = endPercent;

    //方案1
    CAKeyframeAnimation *startAnimation = [CAKeyframeAnimation animationWithKeyPath:@"strokeStart"];
    startAnimation.values = @[@0.0,@(endPercent)];

    CAKeyframeAnimation *EndAnimation = [CAKeyframeAnimation animationWithKeyPath:@"strokeEnd"];
    EndAnimation.values = @[@(orignPercent),@1.0];

    CAAnimationGroup *animationGroup = [CAAnimationGroup animation];
    animationGroup.animations = [NSArray arrayWithObjects:startAnimation,EndAnimation, nil];
    animationGroup.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseOut];
    animationGroup.duration = kStep3Duration;
    animationGroup.delegate = self;
    animationGroup.removedOnCompletion = YES;
    [animationGroup setValue:@"animationStep3" forKey:@"animationName"];
    [_changedLayer addAnimation:animationGroup forKey:nil];</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be2e085839186-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be2e085839186-2">2</div><div class="crayon-num" data-line="crayon-58cf866c5be2e085839186-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be2e085839186-4">4</div><div class="crayon-num" data-line="crayon-58cf866c5be2e085839186-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be2e085839186-6">6</div><div class="crayon-num" data-line="crayon-58cf866c5be2e085839186-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be2e085839186-8">8</div><div class="crayon-num" data-line="crayon-58cf866c5be2e085839186-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be2e085839186-10">10</div><div class="crayon-num" data-line="crayon-58cf866c5be2e085839186-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be2e085839186-12">12</div><div class="crayon-num" data-line="crayon-58cf866c5be2e085839186-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be2e085839186-14">14</div><div class="crayon-num" data-line="crayon-58cf866c5be2e085839186-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be2e085839186-16">16</div><div class="crayon-num" data-line="crayon-58cf866c5be2e085839186-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be2e085839186-18">18</div><div class="crayon-num" data-line="crayon-58cf866c5be2e085839186-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be2e085839186-20">20</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be2e085839186-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">orignPercent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-r">self</span><span class="crayon-h"> </span><span class="crayon-v">calculateCurveLength</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-r">self</span><span class="crayon-h"> </span><span class="crayon-v">calculateTotalLength</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be2e085839186-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">endPercent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-r">self</span><span class="crayon-h"> </span><span class="crayon-v">calculateCurveLength</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-cn">120</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-i">Raduis</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-r">self</span><span class="crayon-h"> </span><span class="crayon-v">calculateTotalLength</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be2e085839186-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be2e085839186-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_changedLayer</span><span class="crayon-sy">.</span><span class="crayon-v">strokeStart</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">endPercent</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be2e085839186-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be2e085839186-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//方案1</span></div><div class="crayon-line" id="crayon-58cf866c5be2e085839186-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAKeyframeAnimation *</span><span class="crayon-v">startAnimation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAKeyframeAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"strokeStart"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be2e085839186-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">startAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">values</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-sy">[</span><span class="crayon-sy">@</span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-sy">@</span><span class="crayon-sy">(</span><span class="crayon-v">endPercent</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be2e085839186-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be2e085839186-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAKeyframeAnimation *</span><span class="crayon-v">EndAnimation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAKeyframeAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"strokeEnd"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be2e085839186-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">EndAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">values</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-sy">[</span><span class="crayon-sy">@</span><span class="crayon-sy">(</span><span class="crayon-v">orignPercent</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-sy">@</span><span class="crayon-cn">1.0</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be2e085839186-12">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be2e085839186-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAAnimationGroup *</span><span class="crayon-v">animationGroup</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAAnimationGroup </span><span class="crayon-v">animation</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be2e085839186-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">animations</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSArray </span><span class="crayon-v">arrayWithObjects</span><span class="crayon-o">:</span><span class="crayon-v">startAnimation</span><span class="crayon-sy">,</span><span class="crayon-v">EndAnimation</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be2e085839186-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">timingFunction</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAMediaTimingFunction </span><span class="crayon-v">functionWithName</span><span class="crayon-o">:</span><span class="crayon-v">kCAMediaTimingFunctionEaseOut</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be2e085839186-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">duration</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">kStep3Duration</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be2e085839186-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">delegate</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be2e085839186-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">removedOnCompletion</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">YES</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be2e085839186-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">animationGroup </span><span class="crayon-v">setValue</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"animationStep3"</span><span class="crayon-h"> </span><span class="crayon-v">forKey</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"animationName"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be2e085839186-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">_changedLayer </span><span class="crayon-v">addAnimation</span><span class="crayon-o">:</span><span class="crayon-e">animationGroup </span><span class="crayon-v">forKey</span><span class="crayon-o">:</span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0051 seconds] -->
<p>效果图为：</p>
<div><img alt="" src="http://jbcdn2.b0.upaiyun.com/2016/03/0351d2d5f8e89f75d32e70fdc3ff27f2.gif" />&nbsp;</p>
<div>step3-1 Animation.gif</div>
</div>
<p>2.上下横线的动画效果。</p>
<p>此动画效果，需要使用<code>transform.rotation.z</code>转动角度。</p>
<p>上横线转动的角度顺序为 <code>0 -&gt; 10° -&gt; (-55°) -&gt; (-45°)</code><br />
这是一组数据，使用关键帧处理动画。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be33946350990" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
    CAKeyframeAnimation *rotationAnimation1 = [CAKeyframeAnimation animationWithKeyPath:@"transform.rotation.z"];
    rotationAnimation1.values = @[[NSNumber numberWithFloat:0],
                                 [NSNumber numberWithFloat:Radians(10) ],
                                 [NSNumber numberWithFloat:Radians(-10) - M_PI_4 ],
                                 [NSNumber numberWithFloat:- M_PI_4 ]
                                 ];</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be33946350990-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be33946350990-2">2</div><div class="crayon-num" data-line="crayon-58cf866c5be33946350990-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be33946350990-4">4</div><div class="crayon-num" data-line="crayon-58cf866c5be33946350990-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be33946350990-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be33946350990-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAKeyframeAnimation *</span><span class="crayon-v">rotationAnimation1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAKeyframeAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"transform.rotation.z"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be33946350990-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rotationAnimation1</span><span class="crayon-sy">.</span><span class="crayon-v">values</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-58cf866c5be33946350990-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be33946350990-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-o">-</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-sy">_</span>4<span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-58cf866c5be33946350990-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-sy">_</span>4<span class="crayon-h"> </span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be33946350990-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0019 seconds] -->
<p>下横线转动的角度顺序为<code>0 -&gt; (-10°) -&gt; (55°) -&gt; (45°)</code></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be37658343875" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
    CAKeyframeAnimation *rotationAnimation2 = [CAKeyframeAnimation animationWithKeyPath:@"transform.rotation.z"];
    rotationAnimation2.values = @[[NSNumber numberWithFloat:0],
                                 [NSNumber numberWithFloat:Radians(-10) ],
                                 [NSNumber numberWithFloat:Radians(10)  + M_PI_4 ],
                                 [NSNumber numberWithFloat: M_PI_4 ]
                                 ];</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be37658343875-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be37658343875-2">2</div><div class="crayon-num" data-line="crayon-58cf866c5be37658343875-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be37658343875-4">4</div><div class="crayon-num" data-line="crayon-58cf866c5be37658343875-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be37658343875-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be37658343875-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAKeyframeAnimation *</span><span class="crayon-v">rotationAnimation2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAKeyframeAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"transform.rotation.z"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be37658343875-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rotationAnimation2</span><span class="crayon-sy">.</span><span class="crayon-v">values</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-58cf866c5be37658343875-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-o">-</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be37658343875-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-sy">_</span>4<span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-58cf866c5be37658343875-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-sy">_</span>4<span class="crayon-h"> </span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be37658343875-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0019 seconds] -->
<p>你认为这么就结束了? 最终结束的动画如下：</p>
<div><img alt="" src="http://jbcdn2.b0.upaiyun.com/2016/03/0c116761e5b6b9c2b1f818220e19bab2.jpg" />&nbsp;</p>
<div>step3-2 finished Animation.jpg</div>
</div>
<p>发现相交的直线没有居中，而是靠左显示。</p>
<p>向左平移，使用<code>transform.translation.x</code></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be3b677373802" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
    //平移量
    CGFloat toValue = lineWidth *(1- cos(M_PI_4)) /2.0;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be3b677373802-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be3b677373802-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be3b677373802-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//平移量</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be3b677373802-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">toValue</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e ">lineWidth *</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">cos</span><span class="crayon-sy">(</span><span class="crayon-v">M_PI_4</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-cn">2.0</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>即旋转角度又发生偏移量，使用组合动画。</p>
<p>上横线组合动画</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be3e531506481" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
     //平移x
    CABasicAnimation *translationAnimation = [CABasicAnimation animationWithKeyPath:@"transform.translation.x"];
    translationAnimation.fromValue = [NSNumber numberWithFloat:0];
    translationAnimation.toValue = [NSNumber numberWithFloat:-toValue];

    //角度关键帧 上横线的关键帧 0 - 10° - (-55°) - (-45°)
    CAKeyframeAnimation *rotationAnimation1 = [CAKeyframeAnimation animationWithKeyPath:@"transform.rotation.z"];
    rotationAnimation1.values = @[[NSNumber numberWithFloat:0],
                                 [NSNumber numberWithFloat:Radians(10) ],
                                 [NSNumber numberWithFloat:Radians(-10) - M_PI_4 ],
                                 [NSNumber numberWithFloat:- M_PI_4 ]
                                 ];

    CAAnimationGroup *transformGroup1 = [CAAnimationGroup animation];
    transformGroup1.animations = [NSArray arrayWithObjects:rotationAnimation1,translationAnimation, nil];
    transformGroup1.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseOut];
    transformGroup1.duration = kStep3Duration;
    transformGroup1.removedOnCompletion = YES;
    [_topLineLayer addAnimation:transformGroup1 forKey:nil];</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be3e531506481-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be3e531506481-2">2</div><div class="crayon-num" data-line="crayon-58cf866c5be3e531506481-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be3e531506481-4">4</div><div class="crayon-num" data-line="crayon-58cf866c5be3e531506481-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be3e531506481-6">6</div><div class="crayon-num" data-line="crayon-58cf866c5be3e531506481-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be3e531506481-8">8</div><div class="crayon-num" data-line="crayon-58cf866c5be3e531506481-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be3e531506481-10">10</div><div class="crayon-num" data-line="crayon-58cf866c5be3e531506481-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be3e531506481-12">12</div><div class="crayon-num" data-line="crayon-58cf866c5be3e531506481-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be3e531506481-14">14</div><div class="crayon-num" data-line="crayon-58cf866c5be3e531506481-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be3e531506481-16">16</div><div class="crayon-num" data-line="crayon-58cf866c5be3e531506481-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be3e531506481-18">18</div><div class="crayon-num" data-line="crayon-58cf866c5be3e531506481-19">19</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be3e531506481-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">//平移x</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be3e531506481-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CABasicAnimation *</span><span class="crayon-v">translationAnimation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CABasicAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"transform.translation.x"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be3e531506481-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">translationAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">fromValue</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be3e531506481-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">translationAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">toValue</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-o">-</span><span class="crayon-v">toValue</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be3e531506481-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be3e531506481-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//角度关键帧 上横线的关键帧 0 - 10° - (-55°) - (-45°)</span></div><div class="crayon-line" id="crayon-58cf866c5be3e531506481-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAKeyframeAnimation *</span><span class="crayon-v">rotationAnimation1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAKeyframeAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"transform.rotation.z"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be3e531506481-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rotationAnimation1</span><span class="crayon-sy">.</span><span class="crayon-v">values</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-58cf866c5be3e531506481-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be3e531506481-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-o">-</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-sy">_</span>4<span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-58cf866c5be3e531506481-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-sy">_</span>4<span class="crayon-h"> </span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be3e531506481-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be3e531506481-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be3e531506481-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAAnimationGroup *</span><span class="crayon-v">transformGroup1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAAnimationGroup </span><span class="crayon-v">animation</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be3e531506481-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup1</span><span class="crayon-sy">.</span><span class="crayon-v">animations</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSArray </span><span class="crayon-v">arrayWithObjects</span><span class="crayon-o">:</span><span class="crayon-v">rotationAnimation1</span><span class="crayon-sy">,</span><span class="crayon-v">translationAnimation</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be3e531506481-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup1</span><span class="crayon-sy">.</span><span class="crayon-v">timingFunction</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAMediaTimingFunction </span><span class="crayon-v">functionWithName</span><span class="crayon-o">:</span><span class="crayon-v">kCAMediaTimingFunctionEaseOut</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be3e531506481-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup1</span><span class="crayon-sy">.</span><span class="crayon-v">duration</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">kStep3Duration</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be3e531506481-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup1</span><span class="crayon-sy">.</span><span class="crayon-v">removedOnCompletion</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">YES</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be3e531506481-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">_topLineLayer </span><span class="crayon-v">addAnimation</span><span class="crayon-o">:</span><span class="crayon-e">transformGroup1 </span><span class="crayon-v">forKey</span><span class="crayon-o">:</span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0045 seconds] -->
<p>下横线组合动画</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be42237056974" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
    //角度关键帧 下横线的关键帧 0 - （-10°） - (55°) - (45°)
    CAKeyframeAnimation *rotationAnimation2 = [CAKeyframeAnimation animationWithKeyPath:@"transform.rotation.z"];
    rotationAnimation2.values = @[[NSNumber numberWithFloat:0],
                                 [NSNumber numberWithFloat:Radians(-10) ],
                                 [NSNumber numberWithFloat:Radians(10) + M_PI_4 ],
                                 [NSNumber numberWithFloat: M_PI_4 ]
                                 ];

    CAAnimationGroup *transformGroup2 = [CAAnimationGroup animation];
    transformGroup2.animations = [NSArray arrayWithObjects:rotationAnimation2,translationAnimation, nil];
    transformGroup2.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseOut];
    transformGroup2.duration = kStep3Duration ;
    transformGroup2.delegate = self;
    transformGroup2.removedOnCompletion = YES;
    [_bottomLineLayer addAnimation:transformGroup2 forKey:nil];</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be42237056974-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be42237056974-2">2</div><div class="crayon-num" data-line="crayon-58cf866c5be42237056974-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be42237056974-4">4</div><div class="crayon-num" data-line="crayon-58cf866c5be42237056974-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be42237056974-6">6</div><div class="crayon-num" data-line="crayon-58cf866c5be42237056974-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be42237056974-8">8</div><div class="crayon-num" data-line="crayon-58cf866c5be42237056974-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be42237056974-10">10</div><div class="crayon-num" data-line="crayon-58cf866c5be42237056974-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be42237056974-12">12</div><div class="crayon-num" data-line="crayon-58cf866c5be42237056974-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be42237056974-14">14</div><div class="crayon-num" data-line="crayon-58cf866c5be42237056974-15">15</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be42237056974-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//角度关键帧 下横线的关键帧 0 - （-10°） - (55°) - (45°)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be42237056974-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAKeyframeAnimation *</span><span class="crayon-v">rotationAnimation2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAKeyframeAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"transform.rotation.z"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be42237056974-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rotationAnimation2</span><span class="crayon-sy">.</span><span class="crayon-v">values</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be42237056974-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-o">-</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-58cf866c5be42237056974-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-sy">_</span>4<span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be42237056974-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-sy">_</span>4<span class="crayon-h"> </span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-58cf866c5be42237056974-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be42237056974-8">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be42237056974-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAAnimationGroup *</span><span class="crayon-v">transformGroup2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAAnimationGroup </span><span class="crayon-v">animation</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be42237056974-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup2</span><span class="crayon-sy">.</span><span class="crayon-v">animations</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSArray </span><span class="crayon-v">arrayWithObjects</span><span class="crayon-o">:</span><span class="crayon-v">rotationAnimation2</span><span class="crayon-sy">,</span><span class="crayon-v">translationAnimation</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be42237056974-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup2</span><span class="crayon-sy">.</span><span class="crayon-v">timingFunction</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAMediaTimingFunction </span><span class="crayon-v">functionWithName</span><span class="crayon-o">:</span><span class="crayon-v">kCAMediaTimingFunctionEaseOut</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be42237056974-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup2</span><span class="crayon-sy">.</span><span class="crayon-v">duration</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">kStep3Duration</span><span class="crayon-h"> </span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be42237056974-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup2</span><span class="crayon-sy">.</span><span class="crayon-v">delegate</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be42237056974-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup2</span><span class="crayon-sy">.</span><span class="crayon-v">removedOnCompletion</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">YES</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be42237056974-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">_bottomLineLayer </span><span class="crayon-v">addAnimation</span><span class="crayon-o">:</span><span class="crayon-e">transformGroup2 </span><span class="crayon-v">forKey</span><span class="crayon-o">:</span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0038 seconds] -->
<p>Part1到此结束。最终效果图</p>
<div><img alt="" src="http://jbcdn2.b0.upaiyun.com/2016/03/0ad124b28d8858d6e1987170295b1577.gif" />&nbsp;</p>
<div>Part1 animation.gif</div>
</div>
<p>Part2的思路和Part1思路是一样的。你可以参考代码自己思考一下。核心代码</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->

		<div id="crayon-58cf866c5be47717860839" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-always" style=" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
-(void)cancelAnimation
{
    //最关键是path路径

    UIBezierPath *path = [UIBezierPath bezierPath];
    //30度,经过反复测试，效果最好
    CGFloat angle = Radians(30);

    CGFloat startPointX = self.center.x + Raduis * cos(angle);
    CGFloat startPointY = kCenterY - Raduis * sin(angle);

    CGFloat controlPointX = self.center.x + Raduis *acos(angle);
    CGFloat controlPointY = kCenterY;

    CGFloat endPointX = self.center.x + lineWidth /2;
    CGFloat endPointY = kCenterY;

    //组合path 路径 起点 -150° 顺时针的圆
    path = [UIBezierPath bezierPathWithArcCenter:CGPointMake(self.center.x,kCenterY)
                                                         radius:Raduis
                                                     startAngle:-M_PI + angle
                                                       endAngle:M_PI + angle
                                                      clockwise:YES];

    //起点为 180°-&gt; (360°-30°)
    UIBezierPath *path1 = [UIBezierPath bezierPathWithArcCenter:CGPointMake(self.center.x,kCenterY)
                                                         radius:Raduis
                                                     startAngle:M_PI + angle
                                                       endAngle:2 * M_PI - angle
                                                      clockwise:YES];
    [path appendPath:path1];

    //三点曲线
    UIBezierPath *path2 = [UIBezierPath bezierPath];

    [path2 moveToPoint:CGPointMake(startPointX, startPointY)];

    [path2 addCurveToPoint:CGPointMake(endPointX,endPointY)
             controlPoint1:CGPointMake(startPointX, startPointY)
             controlPoint2:CGPointMake(controlPointX, controlPointY)];

    [path appendPath:path2];

    //比原始状态向左偏移5个像素
    UIBezierPath *path3 = [UIBezierPath bezierPath];
    [path3 moveToPoint:CGPointMake(endPointX,endPointY)];
    [path3 addLineToPoint:CGPointMake(self.center.x - lineWidth/2 -5,endPointY)];
    [path appendPath:path3];

    _changedLayer.path = path.CGPath;

    //平移量
    CGFloat toValue = lineWidth *(1- cos(M_PI_4)) /2.0;
    //finished 最终状态
    CGAffineTransform transform1 = CGAffineTransformMakeRotation(0);
    CGAffineTransform transform2 = CGAffineTransformMakeTranslation(0, 0);
    CGAffineTransform transform3 = CGAffineTransformMakeRotation(0);

    CGAffineTransform transform = CGAffineTransformConcat(transform1, transform2);
    _topLineLayer.affineTransform = transform;
    transform = CGAffineTransformConcat(transform3, transform2);
    _bottomLineLayer.affineTransform = transform;

    //一个圆的长度比
    CGFloat endPercent = 2* M_PI *Raduis / ([self calculateTotalLength] + lineWidth);

    //横线占总path的百分比
    CGFloat percent = lineWidth / ([self calculateTotalLength] + lineWidth);

    _changedLayer.strokeStart = 1.0 -percent;

    CAKeyframeAnimation *startAnimation = [CAKeyframeAnimation animationWithKeyPath:@"strokeStart"];
    startAnimation.values = @[@0.0,@0.3,@(1.0 -percent)];

    //在π+ angle
    CAKeyframeAnimation *EndAnimation = [CAKeyframeAnimation animationWithKeyPath:@"strokeEnd"];
    EndAnimation.values = @[@(endPercent),@(endPercent),@1.0];

    CAAnimationGroup *animationGroup = [CAAnimationGroup animation];
    animationGroup.animations = [NSArray arrayWithObjects:startAnimation,EndAnimation, nil];
    animationGroup.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut];
    animationGroup.duration = kStep4Duration;
    animationGroup.delegate = self;
    animationGroup.removedOnCompletion = YES;
    [animationGroup setValue:@"animationStep4" forKey:@"animationName"];
    [_changedLayer addAnimation:animationGroup forKey:nil];

    //平移x
    CABasicAnimation *translationAnimation = [CABasicAnimation animationWithKeyPath:@"transform.translation.x"];
    translationAnimation.fromValue = [NSNumber numberWithFloat:-toValue];
    translationAnimation.toValue = [NSNumber numberWithFloat:0];

    //角度关键帧 上横线的关键帧  (-45°) -&gt; (-55°)-&gt; 10° -&gt; 0
    CAKeyframeAnimation *rotationAnimation1 = [CAKeyframeAnimation animationWithKeyPath:@"transform.rotation.z"];
    rotationAnimation1.values = @[[NSNumber numberWithFloat:- M_PI_4 ],
                                  [NSNumber numberWithFloat:- Radians(10) - M_PI_4 ],
                                  [NSNumber numberWithFloat:Radians(10) ],
                                  [NSNumber numberWithFloat:0]
                                  ];

    CAAnimationGroup *transformGroup1 = [CAAnimationGroup animation];
    transformGroup1.animations = [NSArray arrayWithObjects:rotationAnimation1,translationAnimation, nil];
    transformGroup1.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseOut];
    transformGroup1.duration = kStep4Duration;
    transformGroup1.removedOnCompletion = YES;
    [_topLineLayer addAnimation:transformGroup1 forKey:nil];

    //角度关键帧 下横线的关键帧  (45°)-&gt; (55°)- &gt;（-10°）-&gt; 0
    CAKeyframeAnimation *rotationAnimation2 = [CAKeyframeAnimation animationWithKeyPath:@"transform.rotation.z"];
    rotationAnimation2.values = @[[NSNumber numberWithFloat: M_PI_4 ],
                                  [NSNumber numberWithFloat:Radians(10) + M_PI_4 ],
                                  [NSNumber numberWithFloat:-Radians(10) ],
                                  [NSNumber numberWithFloat:0]
                                  ];

    CAAnimationGroup *transformGroup2 = [CAAnimationGroup animation];
    transformGroup2.animations = [NSArray arrayWithObjects:rotationAnimation2,translationAnimation, nil];
    transformGroup2.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseOut];
    transformGroup2.duration = kStep4Duration;
    transformGroup2.delegate = self;
    transformGroup2.removedOnCompletion = YES;
    [_bottomLineLayer addAnimation:transformGroup2 forKey:nil];

}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-2">2</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-4">4</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-6">6</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-8">8</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-10">10</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-12">12</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-14">14</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-16">16</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-18">18</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-20">20</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-22">22</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-24">24</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-26">26</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-28">28</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-30">30</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-32">32</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-34">34</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-36">36</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-38">38</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-40">40</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-42">42</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-44">44</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-46">46</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-48">48</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-50">50</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-52">52</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-54">54</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-56">56</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-58">58</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-60">60</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-62">62</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-64">64</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-66">66</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-68">68</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-70">70</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-72">72</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-74">74</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-76">76</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-78">78</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-80">80</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-82">82</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-84">84</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-86">86</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-88">88</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-90">90</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-92">92</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-94">94</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-96">96</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-98">98</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-100">100</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-102">102</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-104">104</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-106">106</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-108">108</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-110">110</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-112">112</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-114">114</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-116">116</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-118">118</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-120">120</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-122">122</div><div class="crayon-num" data-line="crayon-58cf866c5be47717860839-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-58cf866c5be47717860839-124">124</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58cf866c5be47717860839-1"><span class="crayon-o">-</span><span class="crayon-sy">(</span><span class="crayon-t">void</span><span class="crayon-sy">)</span><span class="crayon-e">cancelAnimation</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-2"><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//最关键是path路径</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-4">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be47717860839-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">UIBezierPath *</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">UIBezierPath </span><span class="crayon-v">bezierPath</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//30度,经过反复测试，效果最好</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">angle</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-cn">30</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-8">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be47717860839-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">startPointX</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">center</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e ">Raduis *</span><span class="crayon-h"> </span><span class="crayon-e">cos</span><span class="crayon-sy">(</span><span class="crayon-v">angle</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">startPointY</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">kCenterY</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e ">Raduis *</span><span class="crayon-h"> </span><span class="crayon-e">sin</span><span class="crayon-sy">(</span><span class="crayon-v">angle</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">controlPointX</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">center</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e ">Raduis *</span><span class="crayon-e">acos</span><span class="crayon-sy">(</span><span class="crayon-v">angle</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">controlPointY</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">kCenterY</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-14">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be47717860839-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">endPointX</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">center</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lineWidth</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-cn">2</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">endPointY</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">kCenterY</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//组合path 路径 起点 -150° 顺时针的圆</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">UIBezierPath </span><span class="crayon-v">bezierPathWithArcCenter</span><span class="crayon-o">:</span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">center</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-v">kCenterY</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">radius</span><span class="crayon-o">:</span><span class="crayon-e">Raduis</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-21"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">startAngle</span><span class="crayon-o">:</span><span class="crayon-o">-</span><span class="crayon-v">M_PI</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">angle</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-22"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">endAngle</span><span class="crayon-o">:</span><span class="crayon-v">M_PI</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">angle</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-23"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">clockwise</span><span class="crayon-o">:</span><span class="crayon-v">YES</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-24">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be47717860839-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//起点为 180°-&gt; (360°-30°)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">UIBezierPath *</span><span class="crayon-v">path1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">UIBezierPath </span><span class="crayon-v">bezierPathWithArcCenter</span><span class="crayon-o">:</span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">center</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-v">kCenterY</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">radius</span><span class="crayon-o">:</span><span class="crayon-e">Raduis</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-28"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">startAngle</span><span class="crayon-o">:</span><span class="crayon-v">M_PI</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">angle</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-29"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">endAngle</span><span class="crayon-o">:</span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">angle</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-30"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">clockwise</span><span class="crayon-o">:</span><span class="crayon-v">YES</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">path </span><span class="crayon-v">appendPath</span><span class="crayon-o">:</span><span class="crayon-v">path1</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-32">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be47717860839-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//三点曲线</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">UIBezierPath *</span><span class="crayon-v">path2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">UIBezierPath </span><span class="crayon-v">bezierPath</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">path2 </span><span class="crayon-v">moveToPoint</span><span class="crayon-o">:</span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-v">startPointX</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">startPointY</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">path2 </span><span class="crayon-v">addCurveToPoint</span><span class="crayon-o">:</span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-v">endPointX</span><span class="crayon-sy">,</span><span class="crayon-v">endPointY</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">controlPoint1</span><span class="crayon-o">:</span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-v">startPointX</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">startPointY</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">controlPoint2</span><span class="crayon-o">:</span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-v">controlPointX</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">controlPointY</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-41">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">path </span><span class="crayon-v">appendPath</span><span class="crayon-o">:</span><span class="crayon-v">path2</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-43">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//比原始状态向左偏移5个像素</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">UIBezierPath *</span><span class="crayon-v">path3</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">UIBezierPath </span><span class="crayon-v">bezierPath</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">path3 </span><span class="crayon-v">moveToPoint</span><span class="crayon-o">:</span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-v">endPointX</span><span class="crayon-sy">,</span><span class="crayon-v">endPointY</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">path3 </span><span class="crayon-v">addLineToPoint</span><span class="crayon-o">:</span><span class="crayon-e">CGPointMake</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">center</span><span class="crayon-sy">.</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">lineWidth</span><span class="crayon-o">/</span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-v">endPointY</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">path </span><span class="crayon-v">appendPath</span><span class="crayon-o">:</span><span class="crayon-v">path3</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-49">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_changedLayer</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-v">CGPath</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//平移量</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">toValue</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e ">lineWidth *</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">cos</span><span class="crayon-sy">(</span><span class="crayon-v">M_PI_4</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-cn">2.0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//finished 最终状态</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGAffineTransform </span><span class="crayon-v">transform1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">CGAffineTransformMakeRotation</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGAffineTransform </span><span class="crayon-v">transform2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">CGAffineTransformMakeTranslation</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGAffineTransform </span><span class="crayon-v">transform3</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">CGAffineTransformMakeRotation</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-58">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be47717860839-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGAffineTransform </span><span class="crayon-v">transform</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">CGAffineTransformConcat</span><span class="crayon-sy">(</span><span class="crayon-v">transform1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">transform2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_topLineLayer</span><span class="crayon-sy">.</span><span class="crayon-v">affineTransform</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">transform</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transform</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">CGAffineTransformConcat</span><span class="crayon-sy">(</span><span class="crayon-v">transform3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">transform2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_bottomLineLayer</span><span class="crayon-sy">.</span><span class="crayon-v">affineTransform</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">transform</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-63">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//一个圆的长度比</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">endPercent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-e ">M_PI *</span><span class="crayon-v">Raduis</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-r">self</span><span class="crayon-h"> </span><span class="crayon-v">calculateTotalLength</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lineWidth</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-66">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be47717860839-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//横线占总path的百分比</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CGFloat </span><span class="crayon-v">percent</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">lineWidth</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-r">self</span><span class="crayon-h"> </span><span class="crayon-v">calculateTotalLength</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lineWidth</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-69">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_changedLayer</span><span class="crayon-sy">.</span><span class="crayon-v">strokeStart</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">percent</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-71">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAKeyframeAnimation *</span><span class="crayon-v">startAnimation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAKeyframeAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"strokeStart"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">startAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">values</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-sy">[</span><span class="crayon-sy">@</span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-sy">@</span><span class="crayon-cn">0.3</span><span class="crayon-sy">,</span><span class="crayon-sy">@</span><span class="crayon-sy">(</span><span class="crayon-cn">1.0</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">percent</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-74">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be47717860839-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//在π+ angle</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAKeyframeAnimation *</span><span class="crayon-v">EndAnimation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAKeyframeAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"strokeEnd"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">EndAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">values</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-sy">[</span><span class="crayon-sy">@</span><span class="crayon-sy">(</span><span class="crayon-v">endPercent</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-sy">@</span><span class="crayon-sy">(</span><span class="crayon-v">endPercent</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-sy">@</span><span class="crayon-cn">1.0</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-78">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be47717860839-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAAnimationGroup *</span><span class="crayon-v">animationGroup</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAAnimationGroup </span><span class="crayon-v">animation</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">animations</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSArray </span><span class="crayon-v">arrayWithObjects</span><span class="crayon-o">:</span><span class="crayon-v">startAnimation</span><span class="crayon-sy">,</span><span class="crayon-v">EndAnimation</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">timingFunction</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAMediaTimingFunction </span><span class="crayon-v">functionWithName</span><span class="crayon-o">:</span><span class="crayon-v">kCAMediaTimingFunctionEaseInEaseOut</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">duration</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">kStep4Duration</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">delegate</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">animationGroup</span><span class="crayon-sy">.</span><span class="crayon-v">removedOnCompletion</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">YES</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">animationGroup </span><span class="crayon-v">setValue</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"animationStep4"</span><span class="crayon-h"> </span><span class="crayon-v">forKey</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"animationName"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">_changedLayer </span><span class="crayon-v">addAnimation</span><span class="crayon-o">:</span><span class="crayon-e">animationGroup </span><span class="crayon-v">forKey</span><span class="crayon-o">:</span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-87">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//平移x</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CABasicAnimation *</span><span class="crayon-v">translationAnimation</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CABasicAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"transform.translation.x"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;nbsp;&nbsp;</span><span class="crayon-v">translationAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">fromValue</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-o">-</span><span class="crayon-v">toValue</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">translationAnimation</span><span class="crayon-sy">.</span><span class="crayon-v">toValue</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-92">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be47717860839-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//角度关键帧 上横线的关键帧&nbsp;&nbsp;(-45°) -&gt; (-55°)-&gt; 10° -&gt; 0</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAKeyframeAnimation *</span><span class="crayon-v">rotationAnimation1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAKeyframeAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"transform.rotation.z"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rotationAnimation1</span><span class="crayon-sy">.</span><span class="crayon-v">values</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-sy">_</span>4<span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-sy">_</span>4<span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-97"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-98"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-100">&nbsp;</div><div class="crayon-line" id="crayon-58cf866c5be47717860839-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAAnimationGroup *</span><span class="crayon-v">transformGroup1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAAnimationGroup </span><span class="crayon-v">animation</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup1</span><span class="crayon-sy">.</span><span class="crayon-v">animations</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSArray </span><span class="crayon-v">arrayWithObjects</span><span class="crayon-o">:</span><span class="crayon-v">rotationAnimation1</span><span class="crayon-sy">,</span><span class="crayon-v">translationAnimation</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-103"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup1</span><span class="crayon-sy">.</span><span class="crayon-v">timingFunction</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAMediaTimingFunction </span><span class="crayon-v">functionWithName</span><span class="crayon-o">:</span><span class="crayon-v">kCAMediaTimingFunctionEaseOut</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-104"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup1</span><span class="crayon-sy">.</span><span class="crayon-v">duration</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">kStep4Duration</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-105"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup1</span><span class="crayon-sy">.</span><span class="crayon-v">removedOnCompletion</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">YES</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-106"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">_topLineLayer </span><span class="crayon-v">addAnimation</span><span class="crayon-o">:</span><span class="crayon-e">transformGroup1 </span><span class="crayon-v">forKey</span><span class="crayon-o">:</span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-107">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-108"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//角度关键帧 下横线的关键帧&nbsp;&nbsp;(45°)-&gt; (55°)- &gt;（-10°）-&gt; 0</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-109"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAKeyframeAnimation *</span><span class="crayon-v">rotationAnimation2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAKeyframeAnimation </span><span class="crayon-v">animationWithKeyPath</span><span class="crayon-o">:</span><span class="crayon-sy">@</span><span class="crayon-s">"transform.rotation.z"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-110"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rotationAnimation2</span><span class="crayon-sy">.</span><span class="crayon-v">values</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-sy">_</span>4<span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-111"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">M_PI</span><span class="crayon-sy">_</span>4<span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-112"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-o">-</span><span class="crayon-e">Radians</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-113"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">NSNumber </span><span class="crayon-v">numberWithFloat</span><span class="crayon-o">:</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-114"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-115">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-116"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">CAAnimationGroup *</span><span class="crayon-v">transformGroup2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAAnimationGroup </span><span class="crayon-v">animation</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-117"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup2</span><span class="crayon-sy">.</span><span class="crayon-v">animations</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">NSArray </span><span class="crayon-v">arrayWithObjects</span><span class="crayon-o">:</span><span class="crayon-v">rotationAnimation2</span><span class="crayon-sy">,</span><span class="crayon-v">translationAnimation</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-118"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup2</span><span class="crayon-sy">.</span><span class="crayon-v">timingFunction</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-e">CAMediaTimingFunction </span><span class="crayon-v">functionWithName</span><span class="crayon-o">:</span><span class="crayon-v">kCAMediaTimingFunctionEaseOut</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-119"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup2</span><span class="crayon-sy">.</span><span class="crayon-v">duration</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">kStep4Duration</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-120"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup2</span><span class="crayon-sy">.</span><span class="crayon-v">delegate</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-121"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">transformGroup2</span><span class="crayon-sy">.</span><span class="crayon-v">removedOnCompletion</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">YES</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-122"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">[</span><span class="crayon-e">_bottomLineLayer </span><span class="crayon-v">addAnimation</span><span class="crayon-o">:</span><span class="crayon-e">transformGroup2 </span><span class="crayon-v">forKey</span><span class="crayon-o">:</span><span class="crayon-v">nil</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-58cf866c5be47717860839-123">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-58cf866c5be47717860839-124"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0229 seconds] -->
<p>最终效果图：</p>
<div><img alt="" src="http://jbcdn2.b0.upaiyun.com/2016/03/decc8a052118d2b0accd214a66bd7c501.gif" />&nbsp;</p>
<div>finished animation.gif</div>
</div>
<p>本篇文章讲解结束！</p>
<p>代码点此链接下载：<a href="https://github.com/WZF-Fei/ZFChangeAnimation" target="_blank">https://github.com/WZF-Fei/ZFChangeAnimation</a></p>
</div>

        
        
        
    <div class="post-adds">
        <span data-post-id="84329" class=" btn-bluet-bigger href-style vote-post-up   register-user-only "><i class="fa  fa-thumbs-o-up"></i> <h10 id="84329votetotal">1</h10> 赞</span>
        <span data-book-type="1" data-site-id="12" data-item-id="84329" data-item-type="1" class=" btn-bluet-bigger href-style bookmark-btn  register-user-only "><i class="fa fa-bookmark-o  "></i> 6 收藏</span>

                    <a href="#article-comment"><span class="btn-bluet-bigger href-style hide-on-480"><i class="fa fa-comments-o"></i>  评论</span></a>
        
        
        
        <!-- JiaThis Button BEGIN -->
        <div class="jiathis_style_24x24" style="display: inline-flex; position: relative; margin: 0; clear: both;float: right;">
            <a class="jiathis_button_tsina"></a>
            <a class="jiathis_button_weixin"></a>
            <a class="jiathis_button_qzone"></a>
            <a class="jiathis_button_fb hide-on-480"></a>
            <a href="http://www.jiathis.com/share?uid=1745061" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
        </div>

    </div>




        <!-- BEGIN #author-bio -->


<!-- END #author-bio -->
	</div>
	<!-- END .entry -->


<script type="text/javascript" >
var jiathis_config={
	data_track_clickback:false,
	title:"分享从伯乐在线看到的一篇好文章 ",
	summary:"《干货系列之手把手教你使用Core animation 做动画》",
	pic:"http://jbcdn2.b0.upaiyun.com/2016/03/decc8a052118d2b0accd214a66bd7c50.gif",
	appkey:{
         "tsina": 1473879058    },
	ralateuid:{
		"tsina": 5314643524	},
	hideMore:false
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1745061" charset="utf-8"></script>
<!-- JiaThis Button END -->
			<div class="textwidget"><p><a href='http://group.jobbole.com/22945/' target='_blank'><img src='http://wx2.sinaimg.cn/mw690/bfdcef89gy1fdkg2ch4pnj20h803c0te.jpg' /></a></p>
</div>
		
</div>
<!-- END .post -->
            <div style="text-align: left;">
            <h3>相关文章</h3>
            <ul style="font-size: 13px; list-style: disc inside;">
                                    <li>
                    <span class="digg-item-updated-title">
                        <a title="YQDownloadButton---带有波浪效果和震动波效果的动画" target="_blank" href="http://ios.jobbole.com/92936/?utm_source=blog.jobbole.com&utm_medium=relatedPosts">YQDownloadButton&#8212;带有波浪效果和震动波效果的动画</a>
                                            </span>
                    </li>
                                    <li>
                    <span class="digg-item-updated-title">
                        <a title="写一个酷炫的iOS进度条动画" target="_blank" href="http://ios.jobbole.com/92749/?utm_source=blog.jobbole.com&utm_medium=relatedPosts">写一个酷炫的iOS进度条动画</a>
                                            </span>
                    </li>
                                    <li>
                    <span class="digg-item-updated-title">
                        <a title="iOS 双波浪动画 - 类似淘宝个人信息状态栏,京东金融等" target="_blank" href="http://ios.jobbole.com/92427/?utm_source=blog.jobbole.com&utm_medium=relatedPosts">iOS 双波浪动画 &#8211; 类似淘宝个人信息状态栏,京东金融等</a>
                                            </span>
                    </li>
                                    <li>
                    <span class="digg-item-updated-title">
                        <a title="过渡动画之高级模仿 airbnb" target="_blank" href="http://ios.jobbole.com/92344/?utm_source=blog.jobbole.com&utm_medium=relatedPosts">过渡动画之高级模仿 airbnb</a>
                                            </span>
                    </li>
                                    <li>
                    <span class="digg-item-updated-title">
                        <a title="过渡动画之入门模仿系统" target="_blank" href="http://ios.jobbole.com/92312/?utm_source=blog.jobbole.com&utm_medium=relatedPosts">过渡动画之入门模仿系统</a>
                                            </span>
                    </li>
                            </ul>
        </div>
    
    
<div style="text-align: left;">
    <h3>可能感兴趣的话题</h3>
    <ul style="font-size: 13px; list-style: disc inside;">
                        <li>
                    <a href="http://group.jobbole.com/30222/?utm_source=ios.jobbole.com&utm_medium=article-related-group-topic" title="一个纯静态的在线工具网站(meTools)" target="_blank">一个纯静态的在线工具网站(meTools)</a>
                     &middot; <a href="http://group.jobbole.com/30222/#comments" target="_blank"><i class="fa fa-comments-o"></i> 1</a>                </li>
                            <li>
                    <a href="http://group.jobbole.com/30125/?utm_source=ios.jobbole.com&utm_medium=article-related-group-topic" title="4399游戏2015校园招聘笔试题：哈夫曼树" target="_blank">4399游戏2015校园招聘笔试题：哈夫曼树</a>
                     &middot; <a href="http://group.jobbole.com/30125/#comments" target="_blank"><i class="fa fa-comments-o"></i> 1</a>                </li>
                            <li>
                    <a href="http://group.jobbole.com/30214/?utm_source=ios.jobbole.com&utm_medium=article-related-group-topic" title="别人通过请求地址和路径访问我写的方法" target="_blank">别人通过请求地址和路径访问我写的方法</a>
                     &middot; <a href="http://group.jobbole.com/30214/#comments" target="_blank"><i class="fa fa-comments-o"></i> 10</a>                </li>
                            <li>
                    <a href="http://group.jobbole.com/30209/?utm_source=ios.jobbole.com&utm_medium=article-related-group-topic" title="校招签了中兴，但是工资比同行业低很多" target="_blank">校招签了中兴，但是工资比同行业低很多</a>
                                    </li>
                            <li>
                    <a href="http://group.jobbole.com/30208/?utm_source=ios.jobbole.com&utm_medium=article-related-group-topic" title="想报计算机的女生……有前途吗" target="_blank">想报计算机的女生……有前途吗</a>
                     &middot; <a href="http://group.jobbole.com/30208/#comments" target="_blank"><i class="fa fa-comments-o"></i> 22</a>                </li>
                            <li>
                    <a href="http://group.jobbole.com/30123/?utm_source=ios.jobbole.com&utm_medium=article-related-group-topic" title="4399游戏2015校园招聘笔试题：快速排序" target="_blank">4399游戏2015校园招聘笔试题：快速排序</a>
                     &middot; <a href="http://group.jobbole.com/30123/#comments" target="_blank"><i class="fa fa-comments-o"></i> 1</a>                </li>
                </ul>
</div>
	
            <div id="article-comment" class="dot-box center-align">

                        <a href="http://www.jobbole.com/login?redirect=http://ios.jobbole.com/84329/"><button type="button" class="btn btn-non-transparent">登录后评论</button></a>
            
            <a target="_blank" href="http://www.jobbole.com/register"><button type="button" class="btn btn-primary">新用户注册</button></a>

            <br/><br/>
            <span>直接登录</span>
            <style type="text/css">.t_login_text{margin:0; padding:0;}.t_login_button{margin:0; padding: 5px 0;}.t_login_button a{margin:0; padding-right:3px; line-height:25px}.t_login_button img{display:inline; border:none;}</style><!-- 使用社交帐号登录 来自 WordPress连接微博 插件 --><span class="connectBox1 t_login_button"><a href="http://ios.jobbole.com/wp-content/plugins/wp-connect/login.php?go=weixin&redirect_url=http%3A%2F%2Fios.jobbole.com%2F84329%2F" title="微信" rel="nofollow"><img src="http://ios.jobbole.com/wp-content/plugins/wp-connect/images/login/btn_weixin.png" /></a><a href="http://ios.jobbole.com/wp-content/plugins/wp-connect/login.php?go=qzone&redirect_url=http%3A%2F%2Fios.jobbole.com%2F84329%2F" title="QQ" rel="nofollow"><img src="http://ios.jobbole.com/wp-content/plugins/wp-connect/images/login/btn_qzone.png" /></a><a href="http://ios.jobbole.com/wp-content/plugins/wp-connect/login.php?go=sina&redirect_url=http%3A%2F%2Fios.jobbole.com%2F84329%2F" title="新浪微博" rel="nofollow"><img src="http://ios.jobbole.com/wp-content/plugins/wp-connect/images/login/btn_sina.png" /></a><a href="http://ios.jobbole.com/wp-content/plugins/wp-connect/login.php?go=douban&redirect_url=http%3A%2F%2Fios.jobbole.com%2F84329%2F" title="豆瓣" rel="nofollow"><img src="http://ios.jobbole.com/wp-content/plugins/wp-connect/images/login/btn_douban.png" /></a><a href="http://ios.jobbole.com/wp-content/plugins/wp-connect/login.php?go=github&redirect_url=http%3A%2F%2Fios.jobbole.com%2F84329%2F" title="GitHub" rel="nofollow"><img src="http://ios.jobbole.com/wp-content/plugins/wp-connect/images/login/btn_github.png" /></a></span>        </div>
    

    <div id="comment_list" class="comments">

        
    </div>
		

	
</div>
<!-- END .grid-8 -->

<!-- BEGIN #sidebar -->
<div id="sidebar" class="grid-4">

	    <div id="text-10" class="widget widget_text">			<div class="textwidget"><p><a href="http://group.jobbole.com/22945/" target="_blank"><img src="http://wx4.sinaimg.cn/mw690/bfdcef89gy1fdd9j7jnsjj208c046q3c.jpg" /></a></p>
</div>
		</div>
        <h3 class="widget-title">
            <a target="_blank" href="http://group.jobbole.com/category/tech/ios-tech/?utm_source=ios.jobbole.com&utm_medium=sidebar-group-topics-more">iOS小组话题</a>
            <span style="float:right;"><a target="_blank" href="http://group.jobbole.com/newtopic/?group=54">我有新话题 <i class='fa fa-commenting-o'></i></a></span>
        </h3>

        <!-- BEGIN .container -->
        <div class="container">

            
                <!-- BEGIN .grid-4 -->
                <div class="grid-4 floated-thumb">

                    
                            <!-- BEGIN .post-thumb -->
                            <div class="author-thumb">

                                <a target="_blank" href="http://www.jobbole.com/members/WaitForU1990abc" ">
                                    <img src="http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png" alt="" width="34" height="34" />
                                </a>

                            </div>
                            <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" target="_blank" title="iOS前端该往哪个方向发展？" href="http://group.jobbole.com/30170/?utm_source=ios.jobbole.com&utm_medium=sidebar-group-topic">iOS前端该往哪个方向发展？</a><br />
                                <a href="http://group.jobbole.com/author/waitforu1990abc/">会长大的幸福abc</a> 发起
                                                                    • 1 回复
                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                            <!-- BEGIN .post-thumb -->
                            <div class="author-thumb">

                                <a target="_blank" href="http://www.jobbole.com/members/wx3453007936" ">
                                    <img src="http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png" alt="" width="34" height="34" />
                                </a>

                            </div>
                            <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" target="_blank" title="ios定位国内与国外疑惑" href="http://group.jobbole.com/14540/?utm_source=ios.jobbole.com&utm_medium=sidebar-group-topic">ios定位国内与国外疑惑</a><br />
                                <a href="http://group.jobbole.com/author/wx3453007936/">莫忘初心</a> 发起
                                                                    • 3 回复
                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                            <!-- BEGIN .post-thumb -->
                            <div class="author-thumb">

                                <a target="_blank" href="http://www.jobbole.com/members/wx3709886160" ">
                                    <img src="http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png" alt="" width="34" height="34" />
                                </a>

                            </div>
                            <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" target="_blank" title="Swift可以开发服务端吗" href="http://group.jobbole.com/30035/?utm_source=ios.jobbole.com&utm_medium=sidebar-group-topic">Swift可以开发服务端吗</a><br />
                                <a href="http://group.jobbole.com/author/wx3709886160/">as~</a> 发起
                                                                    • 3 回复
                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                            <!-- BEGIN .post-thumb -->
                            <div class="author-thumb">

                                <a target="_blank" href="http://www.jobbole.com/members/wx3709886160" ">
                                    <img src="http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png" alt="" width="34" height="34" />
                                </a>

                            </div>
                            <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" target="_blank" title="听说现在react很火，需要学习react吗？" href="http://group.jobbole.com/29941/?utm_source=ios.jobbole.com&utm_medium=sidebar-group-topic">听说现在react很火，需要学习react吗？</a><br />
                                <a href="http://group.jobbole.com/author/wx3709886160/">as~</a> 发起
                                                                    • 6 回复
                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                            <!-- BEGIN .post-thumb -->
                            <div class="author-thumb">

                                <a target="_blank" href="http://www.jobbole.com/members/dorinejay" ">
                                    <img src="http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png" alt="" width="34" height="34" />
                                </a>

                            </div>
                            <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" target="_blank" title="裸辞了半个月，投了好几个iOS岗位，都没有回应，大家都是在哪找？" href="http://group.jobbole.com/22428/?utm_source=ios.jobbole.com&utm_medium=sidebar-group-topic">裸辞了半个月，投了好几个iOS岗位...</a><br />
                                <a href="http://group.jobbole.com/author/dorinejay/">灵儿</a> 发起
                                                                    • 90 回复
                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                            <!-- BEGIN .post-thumb -->
                            <div class="author-thumb">

                                <a target="_blank" href="http://www.jobbole.com/members/leng635011049" ">
                                    <img src="http://q.qlogo.cn/qqapp/208656/0B67D711B3419F23ABFE3ABF710D653A/100" alt="" width="34" height="34" />
                                </a>

                            </div>
                            <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" target="_blank" title="应届生做iOS开发,求职该如何下手?" href="http://group.jobbole.com/25077/?utm_source=ios.jobbole.com&utm_medium=sidebar-group-topic">应届生做iOS开发,求职该如何下手?</a><br />
                                <a href="http://group.jobbole.com/author/leng635011049/">青春</a> 发起
                                                                    • 10 回复
                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                </div>
                <!-- END .grid-4 -->

            
            <div class="clear"></div>

        </div>
        <!-- END .container -->

        <div class="tabs tabbed_widget"><ul class="nav clearfix"><li><a id="link-tab1" href="#tab1" title="本周热门iOS文章">本周热门iOS文章</a></li><li><a id="link-tab2" href="#tab2" title="本月热门">本月热门</a></li><li><a id="link-tab3" href="#tab3" title="热门标签">热门标签</a></li></ul><div id="tab1" class="tab"><div class="floated-thumb">
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">0</span>
                            <a class="meta-title" target="_blank" href="http://ios.jobbole.com/93066/" title="ReactiveCocoa 小总结">ReactiveCocoa 小总结</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">1</span>
                            <a class="meta-title" target="_blank" href="http://ios.jobbole.com/93067/" title="浅显易懂的 RunLoop 总结">浅显易懂的 RunLoop 总结</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                </div></div><div id="tab2" class="tab"><div class="floated-thumb">
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">0</span>
                            <a class="meta-title" target="_blank" href="http://ios.jobbole.com/92926/" title="开源一个上架 App Store 的相机 App">开源一个上架 App Store 的相机 ...</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">1</span>
                            <a class="meta-title" target="_blank" href="http://ios.jobbole.com/92988/" title="移动端监控体系之技术原理剖析">移动端监控体系之技术原理剖析</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">2</span>
                            <a class="meta-title" target="_blank" href="http://ios.jobbole.com/92989/" title="Swift 再等等？我的答案是：快上车">Swift 再等等？我的答案是：快上车</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">3</span>
                            <a class="meta-title" target="_blank" href="http://ios.jobbole.com/92945/" title="自定义 Xcode ViewController 类模板">自定义 Xcode ViewController ...</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">4</span>
                            <a class="meta-title" target="_blank" href="http://ios.jobbole.com/93052/" title="App Store 狠抓精神文明建设，JSPatch要亡了？">App Store 狠抓精神文明建设，JSP...</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">5</span>
                            <a class="meta-title" target="_blank" href="http://ios.jobbole.com/92961/" title="iOS 抓取 HTML ,CSS XPath 解析数据">iOS 抓取 HTML ,CSS XP...</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">6</span>
                            <a class="meta-title" target="_blank" href="http://ios.jobbole.com/92933/" title="Objective-C 与 SmallTalk">Objective-C 与 SmallTalk</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">7</span>
                            <a class="meta-title" target="_blank" href="http://ios.jobbole.com/93032/" title="一次方法适配实践">一次方法适配实践</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">8</span>
                            <a class="meta-title" target="_blank" href="http://ios.jobbole.com/93051/" title="iOS 实现点击微信头像效果">iOS 实现点击微信头像效果</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                
                    
                    <!-- BEGIN .post-meta -->
                    <div class="post-meta  no-thumb">

                        <p>
                            <span class="numb">9</span>
                            <a class="meta-title" target="_blank" href="http://ios.jobbole.com/92939/" title="免越狱 tweak 应用逆向开发">免越狱 tweak 应用逆向开发</a><br />
                        </p>

                    </div>
                    <!-- END .post-meta -->

                    <div class="clear"></div>

                </div></div><div id="tab3" class="tab"><p><a href='http://ios.jobbole.com/tag/afnetworking/' class='tag-link-4401 tag-link-position-1' title='4个话题' style='font-size: 8px;'>AFNetworking</a>
<a href='http://ios.jobbole.com/tag/android/' class='tag-link-3639 tag-link-position-2' title='17个话题' style='font-size: 12.993630573248px;'>android</a>
<a href='http://ios.jobbole.com/tag/app/' class='tag-link-3690 tag-link-position-3' title='6个话题' style='font-size: 9.3375796178344px;'>app</a>
<a href='http://ios.jobbole.com/tag/apple/' class='tag-link-180 tag-link-position-4' title='35个话题' style='font-size: 15.668789808917px;'>apple</a>
<a href='http://ios.jobbole.com/tag/apple-watch/' class='tag-link-3768 tag-link-position-5' title='7个话题' style='font-size: 9.7834394904459px;'>Apple Watch</a>
<a href='http://ios.jobbole.com/tag/app-store/' class='tag-link-3619 tag-link-position-6' title='11个话题' style='font-size: 11.388535031847px;'>app store</a>
<a href='http://ios.jobbole.com/tag/arc/' class='tag-link-3861 tag-link-position-7' title='5个话题' style='font-size: 8.7133757961783px;'>ARC</a>
<a href='http://ios.jobbole.com/tag/autolayout/' class='tag-link-3927 tag-link-position-8' title='11个话题' style='font-size: 11.388535031847px;'>autolayout</a>
<a href='http://ios.jobbole.com/tag/block/' class='tag-link-3832 tag-link-position-9' title='25个话题' style='font-size: 14.331210191083px;'>Block</a>
<a href='http://ios.jobbole.com/tag/category/' class='tag-link-3791 tag-link-position-10' title='5个话题' style='font-size: 8.7133757961783px;'>Category</a>
<a href='http://ios.jobbole.com/tag/cocoapods/' class='tag-link-3636 tag-link-position-11' title='14个话题' style='font-size: 12.28025477707px;'>CocoaPods</a>
<a href='http://ios.jobbole.com/tag/c%e8%af%ad%e8%a8%80/' class='tag-link-4057 tag-link-position-12' title='5个话题' style='font-size: 8.7133757961783px;'>C语言</a>
<a href='http://ios.jobbole.com/tag/featuredpost/' class='tag-link-3615 tag-link-position-13' title='5个话题' style='font-size: 8.7133757961783px;'>featuredpost</a>
<a href='http://ios.jobbole.com/tag/gcd/' class='tag-link-3655 tag-link-position-14' title='17个话题' style='font-size: 12.993630573248px;'>gcd</a>
<a href='http://ios.jobbole.com/tag/https/' class='tag-link-3912 tag-link-position-15' title='11个话题' style='font-size: 11.388535031847px;'>HTTPS</a>
<a href='http://ios.jobbole.com/tag/ios/' class='tag-link-3640 tag-link-position-16' title='187个话题' style='font-size: 22px;'>ios</a>
<a href='http://ios.jobbole.com/tag/ios-7/' class='tag-link-3686 tag-link-position-17' title='18个话题' style='font-size: 13.171974522293px;'>ios 7</a>
<a href='http://ios.jobbole.com/tag/ios-8/' class='tag-link-3622 tag-link-position-18' title='8个话题' style='font-size: 10.229299363057px;'>ios 8</a>
<a href='http://ios.jobbole.com/tag/ios-9/' class='tag-link-3971 tag-link-position-19' title='5个话题' style='font-size: 8.7133757961783px;'>iOS 9</a>
<a href='http://ios.jobbole.com/tag/ios9/' class='tag-link-3900 tag-link-position-20' title='5个话题' style='font-size: 8.7133757961783px;'>iOS9</a>
<a href='http://ios.jobbole.com/tag/ios-10/' class='tag-link-4490 tag-link-position-21' title='8个话题' style='font-size: 10.229299363057px;'>ios 10</a>
<a href='http://ios.jobbole.com/tag/ios%e5%bc%80%e5%8f%91/' class='tag-link-3888 tag-link-position-22' title='6个话题' style='font-size: 9.3375796178344px;'>iOS开发</a>
<a href='http://ios.jobbole.com/tag/iphone/' class='tag-link-414 tag-link-position-23' title='26个话题' style='font-size: 14.509554140127px;'>iPhone</a>
<a href='http://ios.jobbole.com/tag/kvc/' class='tag-link-3701 tag-link-position-24' title='5个话题' style='font-size: 8.7133757961783px;'>KVC</a>
<a href='http://ios.jobbole.com/tag/kvo/' class='tag-link-3702 tag-link-position-25' title='9个话题' style='font-size: 10.675159235669px;'>kvo</a>
<a href='http://ios.jobbole.com/tag/mac/' class='tag-link-1622 tag-link-position-26' title='15个话题' style='font-size: 12.458598726115px;'>Mac</a>
<a href='http://ios.jobbole.com/tag/mach-o/' class='tag-link-3934 tag-link-position-27' title='5个话题' style='font-size: 8.7133757961783px;'>Mach-O</a>
<a href='http://ios.jobbole.com/tag/mvc/' class='tag-link-3868 tag-link-position-28' title='9个话题' style='font-size: 10.675159235669px;'>MVC</a>
<a href='http://ios.jobbole.com/tag/mvvm/' class='tag-link-3881 tag-link-position-29' title='16个话题' style='font-size: 12.726114649682px;'>MVVM</a>
<a href='http://ios.jobbole.com/tag/objective-c/' class='tag-link-829 tag-link-position-30' title='133个话题' style='font-size: 20.751592356688px;'>Objective-C</a>
<a href='http://ios.jobbole.com/tag/os-x/' class='tag-link-2902 tag-link-position-31' title='7个话题' style='font-size: 9.7834394904459px;'>OS X</a>
<a href='http://ios.jobbole.com/tag/pop/' class='tag-link-3937 tag-link-position-32' title='5个话题' style='font-size: 8.7133757961783px;'>POP</a>
<a href='http://ios.jobbole.com/tag/rac/' class='tag-link-4260 tag-link-position-33' title='20个话题' style='font-size: 13.528662420382px;'>RAC</a>
<a href='http://ios.jobbole.com/tag/reactivecocoa/' class='tag-link-3863 tag-link-position-34' title='17个话题' style='font-size: 12.993630573248px;'>ReactiveCocoa</a>
<a href='http://ios.jobbole.com/tag/react-native/' class='tag-link-3822 tag-link-position-35' title='4个话题' style='font-size: 8px;'>React Native</a>
<a href='http://ios.jobbole.com/tag/runloop/' class='tag-link-4328 tag-link-position-36' title='9个话题' style='font-size: 10.675159235669px;'>runloop</a>
<a href='http://ios.jobbole.com/tag/runtime/' class='tag-link-3632 tag-link-position-37' title='57个话题' style='font-size: 17.452229299363px;'>runtime</a>
<a href='http://ios.jobbole.com/tag/sdwebimage/' class='tag-link-4223 tag-link-position-38' title='5个话题' style='font-size: 8.7133757961783px;'>SDWebImage</a>
<a href='http://ios.jobbole.com/tag/sqlite/' class='tag-link-3880 tag-link-position-39' title='8个话题' style='font-size: 10.229299363057px;'>SQLite</a>
<a href='http://ios.jobbole.com/tag/swift/' class='tag-link-3608 tag-link-position-40' title='109个话题' style='font-size: 19.949044585987px;'>swift</a>
<a href='http://ios.jobbole.com/tag/tableview/' class='tag-link-3698 tag-link-position-41' title='6个话题' style='font-size: 9.3375796178344px;'>TableView</a>
<a href='http://ios.jobbole.com/tag/ui/' class='tag-link-3633 tag-link-position-42' title='17个话题' style='font-size: 12.993630573248px;'>UI</a>
<a href='http://ios.jobbole.com/tag/uicollectionview/' class='tag-link-3675 tag-link-position-43' title='7个话题' style='font-size: 9.7834394904459px;'>UICollectionView</a>
<a href='http://ios.jobbole.com/tag/uicollectionviewcontroller/' class='tag-link-4059 tag-link-position-44' title='5个话题' style='font-size: 8.7133757961783px;'>UICollectionViewController</a>
<a href='http://ios.jobbole.com/tag/uiscrollview/' class='tag-link-3638 tag-link-position-45' title='7个话题' style='font-size: 9.7834394904459px;'>UIScrollView</a>
<a href='http://ios.jobbole.com/tag/uitableview/' class='tag-link-3726 tag-link-position-46' title='14个话题' style='font-size: 12.28025477707px;'>UITableView</a>
<a href='http://ios.jobbole.com/tag/watchkit/' class='tag-link-3616 tag-link-position-47' title='9个话题' style='font-size: 10.675159235669px;'>WatchKit</a>
<a href='http://ios.jobbole.com/tag/weex/' class='tag-link-4504 tag-link-position-48' title='6个话题' style='font-size: 9.3375796178344px;'>weex</a>
<a href='http://ios.jobbole.com/tag/xcode/' class='tag-link-3613 tag-link-position-49' title='39个话题' style='font-size: 16.025477707006px;'>xcode</a>
<a href='http://ios.jobbole.com/tag/xmppframework/' class='tag-link-4037 tag-link-position-50' title='10个话题' style='font-size: 11.031847133758px;'>XMPPFramework</a>
<a href='http://ios.jobbole.com/tag/%e5%86%85%e5%ad%98%e7%ae%a1%e7%90%86/' class='tag-link-3823 tag-link-position-51' title='20个话题' style='font-size: 13.528662420382px;'>内存管理</a>
<a href='http://ios.jobbole.com/tag/%e5%87%bd%e6%95%b0%e5%bc%8f%e7%bc%96%e7%a8%8b/' class='tag-link-3641 tag-link-position-52' title='5个话题' style='font-size: 8.7133757961783px;'>函数式编程</a>
<a href='http://ios.jobbole.com/tag/%e5%8a%a8%e7%94%bb/' class='tag-link-3786 tag-link-position-53' title='98个话题' style='font-size: 19.592356687898px;'>动画</a>
<a href='http://ios.jobbole.com/tag/%e5%8d%8f%e8%ae%ae/' class='tag-link-4004 tag-link-position-54' title='6个话题' style='font-size: 9.3375796178344px;'>协议</a>
<a href='http://ios.jobbole.com/tag/%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95/' class='tag-link-3837 tag-link-position-55' title='6个话题' style='font-size: 9.3375796178344px;'>单元测试</a>
<a href='http://ios.jobbole.com/tag/%e5%8d%b3%e6%97%b6%e9%80%9a%e8%ae%af/' class='tag-link-4133 tag-link-position-56' title='4个话题' style='font-size: 8px;'>即时通讯</a>
<a href='http://ios.jobbole.com/tag/%e5%9b%be%e6%a0%87/' class='tag-link-3682 tag-link-position-57' title='5个话题' style='font-size: 8.7133757961783px;'>图标</a>
<a href='http://ios.jobbole.com/tag/%e5%9b%be%e7%89%87/' class='tag-link-3842 tag-link-position-58' title='4个话题' style='font-size: 8px;'>图片</a>
<a href='http://ios.jobbole.com/tag/%e5%a4%9a%e7%ba%bf%e7%a8%8b/' class='tag-link-3653 tag-link-position-59' title='23个话题' style='font-size: 14.063694267516px;'>多线程</a>
<a href='http://ios.jobbole.com/tag/%e5%ad%97%e7%ac%a6%e4%b8%b2/' class='tag-link-3884 tag-link-position-60' title='5个话题' style='font-size: 8.7133757961783px;'>字符串</a>
<a href='http://ios.jobbole.com/tag/%e5%ae%89%e5%85%a8/' class='tag-link-3680 tag-link-position-61' title='38个话题' style='font-size: 15.936305732484px;'>安全</a>
<a href='http://ios.jobbole.com/tag/%e5%b7%a5%e5%85%b7/' class='tag-link-3659 tag-link-position-62' title='16个话题' style='font-size: 12.726114649682px;'>工具</a>
<a href='http://ios.jobbole.com/tag/%e5%ba%94%e7%94%a8/' class='tag-link-3743 tag-link-position-63' title='5个话题' style='font-size: 8.7133757961783px;'>应用</a>
<a href='http://ios.jobbole.com/tag/%e5%ba%95%e5%b1%82%e5%8e%9f%e7%90%86/' class='tag-link-4146 tag-link-position-64' title='7个话题' style='font-size: 9.7834394904459px;'>底层原理</a>
<a href='http://ios.jobbole.com/tag/%e5%bc%80%e5%8f%91%e7%bb%8f%e9%aa%8c/' class='tag-link-4238 tag-link-position-65' title='50个话题' style='font-size: 17.006369426752px;'>开发经验</a>
<a href='http://ios.jobbole.com/tag/%e5%bc%80%e6%ba%90%e5%ba%93/' class='tag-link-3903 tag-link-position-66' title='6个话题' style='font-size: 9.3375796178344px;'>开源库</a>
<a href='http://ios.jobbole.com/tag/%e5%bc%80%e6%ba%90%e9%a1%b9%e7%9b%ae/' class='tag-link-4151 tag-link-position-67' title='22个话题' style='font-size: 13.885350318471px;'>开源项目</a>
<a href='http://ios.jobbole.com/tag/%e6%80%a7%e8%83%bd/' class='tag-link-3727 tag-link-position-68' title='6个话题' style='font-size: 9.3375796178344px;'>性能</a>
<a href='http://ios.jobbole.com/tag/%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96/' class='tag-link-3817 tag-link-position-69' title='14个话题' style='font-size: 12.28025477707px;'>性能优化</a>
<a href='http://ios.jobbole.com/tag/%e6%8a%80%e5%b7%a7/' class='tag-link-3783 tag-link-position-70' title='10个话题' style='font-size: 11.031847133758px;'>技巧</a>
<a href='http://ios.jobbole.com/tag/%e6%8f%92%e4%bb%b6/' class='tag-link-3614 tag-link-position-71' title='7个话题' style='font-size: 9.7834394904459px;'>插件</a>
<a href='http://ios.jobbole.com/tag/%e6%95%99%e7%a8%8b/' class='tag-link-3623 tag-link-position-72' title='5个话题' style='font-size: 8.7133757961783px;'>教程</a>
<a href='http://ios.jobbole.com/tag/%e6%95%b0%e6%8d%ae%e5%ba%93/' class='tag-link-3981 tag-link-position-73' title='10个话题' style='font-size: 11.031847133758px;'>数据库</a>
<a href='http://ios.jobbole.com/tag/%e6%9e%b6%e6%9e%84/' class='tag-link-4065 tag-link-position-74' title='12个话题' style='font-size: 11.656050955414px;'>架构</a>
<a href='http://ios.jobbole.com/tag/%e6%a1%86%e6%9e%b6/' class='tag-link-3725 tag-link-position-75' title='8个话题' style='font-size: 10.229299363057px;'>框架</a>
<a href='http://ios.jobbole.com/tag/%e6%b5%8b%e8%af%95/' class='tag-link-3652 tag-link-position-76' title='6个话题' style='font-size: 9.3375796178344px;'>测试</a>
<a href='http://ios.jobbole.com/tag/%e6%ba%90%e7%a0%81/' class='tag-link-3775 tag-link-position-77' title='20个话题' style='font-size: 13.528662420382px;'>源码</a>
<a href='http://ios.jobbole.com/tag/%e6%ba%90%e7%a0%81%e5%88%86%e6%9e%90/' class='tag-link-4279 tag-link-position-78' title='9个话题' style='font-size: 10.675159235669px;'>源码分析</a>
<a href='http://ios.jobbole.com/tag/%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb/' class='tag-link-4175 tag-link-position-79' title='18个话题' style='font-size: 13.171974522293px;'>源码阅读</a>
<a href='http://ios.jobbole.com/tag/%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f/' class='tag-link-3877 tag-link-position-80' title='4个话题' style='font-size: 8px;'>生命周期</a>
<a href='http://ios.jobbole.com/tag/%e7%95%8c%e9%9d%a2/' class='tag-link-3705 tag-link-position-81' title='6个话题' style='font-size: 9.3375796178344px;'>界面</a>
<a href='http://ios.jobbole.com/tag/%e7%9b%b4%e6%92%ad/' class='tag-link-4383 tag-link-position-82' title='11个话题' style='font-size: 11.388535031847px;'>直播</a>
<a href='http://ios.jobbole.com/tag/%e7%ac%ac%e4%b8%89%e6%96%b9%e9%9b%86%e6%88%90/' class='tag-link-4373 tag-link-position-83' title='4个话题' style='font-size: 8px;'>第三方集成</a>
<a href='http://ios.jobbole.com/tag/%e7%ae%97%e6%b3%95/' class='tag-link-4290 tag-link-position-84' title='9个话题' style='font-size: 10.675159235669px;'>算法</a>
<a href='http://ios.jobbole.com/tag/%e7%ba%bf%e7%a8%8b/' class='tag-link-3878 tag-link-position-85' title='5个话题' style='font-size: 8.7133757961783px;'>线程</a>
<a href='http://ios.jobbole.com/tag/%e7%bb%84%e4%bb%b6%e5%8c%96/' class='tag-link-4150 tag-link-position-86' title='4个话题' style='font-size: 8px;'>组件化</a>
<a href='http://ios.jobbole.com/tag/%e7%bd%91%e7%bb%9c/' class='tag-link-3978 tag-link-position-87' title='12个话题' style='font-size: 11.656050955414px;'>网络</a>
<a href='http://ios.jobbole.com/tag/%e7%bd%91%e7%bb%9c%e5%b1%82/' class='tag-link-3854 tag-link-position-88' title='4个话题' style='font-size: 8px;'>网络层</a>
<a href='http://ios.jobbole.com/tag/%e7%bd%91%e7%bb%9c%e7%bc%96%e7%a8%8b/' class='tag-link-4106 tag-link-position-89' title='4个话题' style='font-size: 8px;'>网络编程</a>
<a href='http://ios.jobbole.com/tag/%e8%81%8a%e5%a4%a9/' class='tag-link-3983 tag-link-position-90' title='6个话题' style='font-size: 9.3375796178344px;'>聊天</a>
<a href='http://ios.jobbole.com/tag/%e8%8b%b9%e6%9e%9c/' class='tag-link-3667 tag-link-position-91' title='6个话题' style='font-size: 9.3375796178344px;'>苹果</a>
<a href='http://ios.jobbole.com/tag/%e8%a7%86%e9%a2%91/' class='tag-link-3618 tag-link-position-92' title='9个话题' style='font-size: 10.675159235669px;'>视频</a>
<a href='http://ios.jobbole.com/tag/%e8%ae%be%e8%ae%a1/' class='tag-link-3631 tag-link-position-93' title='24个话题' style='font-size: 14.242038216561px;'>设计</a>
<a href='http://ios.jobbole.com/tag/%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f/' class='tag-link-3728 tag-link-position-94' title='22个话题' style='font-size: 13.885350318471px;'>设计模式</a>
<a href='http://ios.jobbole.com/tag/%e8%b0%83%e8%af%95/' class='tag-link-3688 tag-link-position-95' title='9个话题' style='font-size: 10.675159235669px;'>调试</a>
<a href='http://ios.jobbole.com/tag/%e9%80%86%e5%90%91/' class='tag-link-4520 tag-link-position-96' title='9个话题' style='font-size: 10.675159235669px;'>逆向</a>
<a href='http://ios.jobbole.com/tag/%e9%97%ad%e5%8c%85/' class='tag-link-4078 tag-link-position-97' title='4个话题' style='font-size: 8px;'>闭包</a>
<a href='http://ios.jobbole.com/tag/%e9%9d%99%e6%80%81%e5%ba%93/' class='tag-link-3894 tag-link-position-98' title='5个话题' style='font-size: 8.7133757961783px;'>静态库</a>
<a href='http://ios.jobbole.com/tag/%e9%9d%a2%e8%af%95/' class='tag-link-3885 tag-link-position-99' title='7个话题' style='font-size: 9.7834394904459px;'>面试</a>
<a href='http://ios.jobbole.com/tag/%e9%ab%98%e4%bb%bf%e9%a1%b9%e7%9b%ae/' class='tag-link-4390 tag-link-position-100' title='4个话题' style='font-size: 8px;'>高仿项目</a></p></div></div><div id="text-11" class="widget widget_text">			<div class="textwidget"><p><a href="http://blog.jobbole.com/84342/" target="_blank"><img src="http://jbcdn2.b0.upaiyun.com/2016/08/74d126ea14f964e13bb07d24843bdab4.jpg" /></a></p>
</div>
		</div>
        <h3 class="widget-title">
            <a target="_blank" href="http://top.jobbole.com/category/news/">业界热点资讯</a>
            <span style="float:right;"><a target="_blank" href="http://top.jobbole.com/category/news/">更多 &raquo;</a></span>
        </h3>
        <!-- BEGIN .container -->
        <div class="container">
            
                <!-- BEGIN .grid-4 -->
                <div class="grid-4 floated-thumb">

                    
                        <!-- BEGIN .post-thumb -->
                        <div class="post-thumb">
                            <a target="_blank" href="http://top.jobbole.com/36430/?utm_source=ios.jobbole.com&utm_medium=sidebar-top-news"><img src="http://jbcdn2.b0.upaiyun.com/2015/11/565719730ba5cef93633ac3fb10cd4e5.jpg" alt="" width="50" height="50" /></a>
                        </div>
                        <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" title="Google 开源 JPEG 编码器 Guetzli" target="_blank" href="http://top.jobbole.com/36430/?utm_source=ios.jobbole.com&utm_medium=sidebar-top-news">Google 开源 JPEG 编码器 Guetzli</a><br />
                                1 天前                                &middot; <i class="fa fa-thumbs-o-up"></i> 7                                                                    &middot;  <a href="http://top.jobbole.com/36430/#comments" target="_blank"><i class="fa fa-comments-o"></i> 1</a>
                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                        <!-- BEGIN .post-thumb -->
                        <div class="post-thumb">
                            <a target="_blank" href="http://top.jobbole.com/36425/?utm_source=ios.jobbole.com&utm_medium=sidebar-top-news"><img src="http://jbcdn2.b0.upaiyun.com/2017/03/e5dff8fde8fdebe6cb0f24c3f5c03d0f.jpg" alt="" width="50" height="50" /></a>
                        </div>
                        <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" title="黑客能用声波入侵智能手机吗？美国科研人员做到了" target="_blank" href="http://top.jobbole.com/36425/?utm_source=ios.jobbole.com&utm_medium=sidebar-top-news">黑客能用声波入侵智能手机吗？美国科研人员做到了</a><br />
                                4 天前                                &middot; <i class="fa fa-thumbs-o-up"></i> 15                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                        <!-- BEGIN .post-thumb -->
                        <div class="post-thumb">
                            <a target="_blank" href="http://top.jobbole.com/36422/?utm_source=ios.jobbole.com&utm_medium=sidebar-top-news"><img src="http://jbcdn2.b0.upaiyun.com/2017/03/5c429a4071360f2ca5221a4b3ff22bf6.png" alt="" width="50" height="50" /></a>
                        </div>
                        <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" title="Chrome 57 的后台标签页将占用更少的资源" target="_blank" href="http://top.jobbole.com/36422/?utm_source=ios.jobbole.com&utm_medium=sidebar-top-news">Chrome 57 的后台标签页将占用更少的资源</a><br />
                                4 天前                                &middot; <i class="fa fa-thumbs-o-up"></i> 11                                                                    &middot;  <a href="http://top.jobbole.com/36422/#comments" target="_blank"><i class="fa fa-comments-o"></i> 2</a>
                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                        <!-- BEGIN .post-thumb -->
                        <div class="post-thumb">
                            <a target="_blank" href="http://top.jobbole.com/36413/?utm_source=ios.jobbole.com&utm_medium=sidebar-top-news"><img src="http://jbcdn2.b0.upaiyun.com/2017/03/1ffb7a924302c5fad61d9dbaca284b80.png" alt="" width="50" height="50" /></a>
                        </div>
                        <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" title="Notepad++ 修复被 CIA 利用的 DLL 劫持" target="_blank" href="http://top.jobbole.com/36413/?utm_source=ios.jobbole.com&utm_medium=sidebar-top-news">Notepad++ 修复被 CIA 利用的 DLL 劫持</a><br />
                                5 天前                                &middot; <i class="fa fa-thumbs-o-up"></i> 11                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                        <!-- BEGIN .post-thumb -->
                        <div class="post-thumb">
                            <a target="_blank" href="http://top.jobbole.com/36424/?utm_source=ios.jobbole.com&utm_medium=sidebar-top-news"><img src="http://jbcdn2.b0.upaiyun.com/2017/03/4514376a8d23df819eb261a52a6885cf.png" alt="" width="50" height="50" /></a>
                        </div>
                        <!-- END .post-thumb -->

                        <!-- BEGIN .post-meta -->
                        <div class="post-meta">

                            <p>
                                <a class="meta-title" title="新版 Google App Engine 支持所有编程语言" target="_blank" href="http://top.jobbole.com/36424/?utm_source=ios.jobbole.com&utm_medium=sidebar-top-news">新版 Google App Engine 支持所有编程语言</a><br />
                                4 天前                                &middot; <i class="fa fa-thumbs-o-up"></i> 9                                                                    &middot;  <a href="http://top.jobbole.com/36424/#comments" target="_blank"><i class="fa fa-comments-o"></i> 1</a>
                                
                            </p>

                        </div>
                        <!-- END .post-meta -->

                        <div class="clear"></div>

                    
                </div>
                <!-- END .grid-4 -->

            
            <div class="clear"></div>

        </div>
        <!-- END .container -->
        <div id="text-12" class="widget widget_text">			<div class="textwidget"><p><a href='http://blog.jobbole.com/99322/?utm_source=ios.jobbole.com&#038;utm_medium=sidebarBanner&#038;utm_content=2016.4.5' target='_blank'><img src='http://ww2.sinaimg.cn/mw690/bfdcef89jw1f2lmtdfiyxj208c03cglx.jpg' /></a></p>
</div>
		</div>            <h3 class="widget-title">
                <a href="http://hao.jobbole.com?catid=31&utm_source=ios.jobbole.com&utm_medium=sidebar-resources-more" target="_blank">iOS工具资源</a>
                <span style="float:right;"><a target="_blank" href="http://hao.jobbole.com?catid=31&utm_source=ios.jobbole.com&utm_medium=sidebar-resources-more">更多资源 &raquo;</a></span>
            </h3>
            <div class="container">
                <div class="grid-4">
                
                    <div class="floated-thumb">
                        <div class="post-thumb">
                            <a target="_blank" href="http://hao.jobbole.com/hardcoredata/?utm_source=ios.jobbole.com&utm_medium=sidebar-resources" title="HardCoreData：UI线程非阻塞CoreData栈和控制器"><img src="http://jbcdn1.b0.upaiyun.com/2016/12/28a790b6c24280161e61154ce309b7bb.png" alt="" width="50" height="50" /></a>
                        </div>
                        <div class="post-meta">
                            <p>
                                <a class="meta-title" target="_blank" href="http://hao.jobbole.com/hardcoredata/?utm_source=ios.jobbole.com&utm_medium=sidebar-resources" title="HardCoreData：UI线程非阻塞CoreData栈和控制器">HardCoreData：UI线程非阻塞CoreData栈和控制器</a><br />
                                <a href="http://hao.jobbole.com/category/ios/ios-libraries-and-frameworks/ios-core-data/" rel="category tag">Core Data</a>
                            </p>
                        </div>
                        <div class="clear"></div>
                    </div>
                
                    <div class="floated-thumb">
                        <div class="post-thumb">
                            <a target="_blank" href="http://hao.jobbole.com/chisel/?utm_source=ios.jobbole.com&utm_medium=sidebar-resources" title="Chisel：iOS app 的辅助调试工具，提供了一系列的 LLDB 命令"><img src="http://jbcdn1.b0.upaiyun.com/2016/11/ac7b0213c28b7f79671886cfd742ca1d-1024x690.png" alt="" width="50" height="50" /></a>
                        </div>
                        <div class="post-meta">
                            <p>
                                <a class="meta-title" target="_blank" href="http://hao.jobbole.com/chisel/?utm_source=ios.jobbole.com&utm_medium=sidebar-resources" title="Chisel：iOS app 的辅助调试工具，提供了一系列的 LLDB 命令">Chisel：iOS app 的辅助调试工具，提供了一系列的 ...</a><br />
                                <a href="http://hao.jobbole.com/category/ios/ios-libraries-and-frameworks/ios-code-quality/" rel="category tag">代码质量</a>
                            </p>
                        </div>
                        <div class="clear"></div>
                    </div>
                
                    <div class="floated-thumb">
                        <div class="post-thumb">
                            <a target="_blank" href="http://hao.jobbole.com/objectiverecord/?utm_source=ios.jobbole.com&utm_medium=sidebar-resources" title="ObjectiveRecord：ActiveRecord的Objective-C版本"><img src="http://jbcdn1.b0.upaiyun.com/2016/10/82b76f0a97e0f8b57563506a8d5ea29d-1024x697.png" alt="" width="50" height="50" /></a>
                        </div>
                        <div class="post-meta">
                            <p>
                                <a class="meta-title" target="_blank" href="http://hao.jobbole.com/objectiverecord/?utm_source=ios.jobbole.com&utm_medium=sidebar-resources" title="ObjectiveRecord：ActiveRecord的Objective-C版本">ObjectiveRecord：ActiveRecord的Objective-C版本</a><br />
                                <a href="http://hao.jobbole.com/category/ios/ios-libraries-and-frameworks/ios-core-data/" rel="category tag">Core Data</a>, <a href="http://hao.jobbole.com/category/ios/" rel="category tag">iOS</a>, <a href="http://hao.jobbole.com/category/ios/ios-libraries-and-frameworks/" rel="category tag">库和框架</a>
                            </p>
                        </div>
                        <div class="clear"></div>
                    </div>
                
                    <div class="floated-thumb">
                        <div class="post-thumb">
                            <a target="_blank" href="http://hao.jobbole.com/ensembles/?utm_source=ios.jobbole.com&utm_medium=sidebar-resources" title="Ensembles：一个 CoreData 同步框架"><img src="http://jbcdn1.b0.upaiyun.com/2016/10/510376e0c541a10b6590aa0be1e9e3f8-1024x622.png" alt="" width="50" height="50" /></a>
                        </div>
                        <div class="post-meta">
                            <p>
                                <a class="meta-title" target="_blank" href="http://hao.jobbole.com/ensembles/?utm_source=ios.jobbole.com&utm_medium=sidebar-resources" title="Ensembles：一个 CoreData 同步框架">Ensembles：一个 CoreData 同步框架</a><br />
                                <a href="http://hao.jobbole.com/category/ios/ios-libraries-and-frameworks/ios-core-data/" rel="category tag">Core Data</a>, <a href="http://hao.jobbole.com/category/ios/" rel="category tag">iOS</a>, <a href="http://hao.jobbole.com/category/ios/ios-libraries-and-frameworks/" rel="category tag">库和框架</a>
                            </p>
                        </div>
                        <div class="clear"></div>
                    </div>
                
                    <div class="floated-thumb">
                        <div class="post-thumb">
                            <a target="_blank" href="http://hao.jobbole.com/spacecommander/?utm_source=ios.jobbole.com&utm_medium=sidebar-resources" title="spacecommander：以统一格式将Object-C代码commit到git仓库的工具"><img src="http://jbcdn1.b0.upaiyun.com/2016/10/a7bdeb86b75710bac5dbff5559e52ac0.png" alt="" width="50" height="50" /></a>
                        </div>
                        <div class="post-meta">
                            <p>
                                <a class="meta-title" target="_blank" href="http://hao.jobbole.com/spacecommander/?utm_source=ios.jobbole.com&utm_medium=sidebar-resources" title="spacecommander：以统一格式将Object-C代码commit到git仓库的工具">spacecommander：以统一格式将Object-C代码commit到git...</a><br />
                                <a href="http://hao.jobbole.com/category/ios/" rel="category tag">iOS</a>, <a href="http://hao.jobbole.com/category/ios/ios-libraries-and-frameworks/ios-code-quality/" rel="category tag">代码质量</a>
                            </p>
                        </div>
                        <div class="clear"></div>
                    </div>
                                </div>
            </div>
        	
	<!-- BEGIN .container -->
	<div class="container">
	
		<!-- BEGIN .grid-2 -->
		<div class="grid-2">
			
						
		</div>
		<!-- END .grid-2 -->
		
		<!-- BEGIN .grid-2 -->
		<div class="grid-2">
			
						
		</div>
		<!-- END .grid-2 -->
		
		<div class="clear"></div>
			
	</div>
	<!-- END .container -->

</div>
<!-- END #sidebar -->
<div class="clear"></div>	


</div>
<!-- END #wrapper -->

<!-- BEGIN footer -->

    <footer>

        <!-- BEGIN .container -->
        <div class="container">

            <!-- BEGIN .grid-4 -->
            <div class="grid-4">

                <div id="text-3" class="widget widget_text"><h3 class="widget-title">关于iOS频道</h3>			<div class="textwidget"><p>iOS频道分享iOS和Swift开发，应用设计和推广，iOS相关的行业动态。</p>
<p><b>快速链接</b><br />
<a target='_blank' href="http://blog.jobbole.com/87622/">网站使用指南 » </a><br />
<a target='_blank' href="http://group.jobbole.com/22422/">加入我们 » </a><br />
<a target='_blank' href="http://group.jobbole.com/category/feedback/thanks">问题反馈与求助 » </a><br />
<a target='_blank' href="http://group.jobbole.com/158/">网站积分规则 » </a><br />
<a target='_blank' href="http://group.jobbole.com/175/">网站声望规则 » </a></p>
</div>
		</div>
            </div>
            <!-- END .grid-4 -->

            <!-- BEGIN .grid-4 -->
            <div class="grid-4">

                <div id="text-5" class="widget widget_text"><h3 class="widget-title">关注我们</h3>			<div class="textwidget"><p>新浪微博：<a href='http://weibo.com/u/5314643524' target='_blank'>@iOS大全</a><br />
RSS：<a href='http://ios.jobbole.com/feed/' target='_blank'>订阅地址</a><br />
推荐微信号<br />
<img src='http://jbcdn2.b0.upaiyun.com/2015/12/weixin/iOS_weixin.png' width='100' height='110' /><img src='http://jbcdn2.b0.upaiyun.com/2015/12/weixin/ui_weixin.png' width='100' height='110' /><img src='http://jbcdn2.b0.upaiyun.com/2015/12/weixin/iprogrammer_weixin.png' width='100' height='110' /></p>
<p><strong>合作联系</strong><br />
Email：<a href='mailto:bd@jobbole.com'>bd@Jobbole.com</a><br />
QQ： 2302462408  （加好友请注明来意）</p>
</div>
		</div>
            </div>
            <!-- END .grid-4 -->

            <!-- BEGIN .grid-4 -->
            <div class="grid-4">

                <div id="text-4" class="widget widget_text"><h3 class="widget-title">更多频道</h3>			<div class="textwidget"><p><a href='http://group.jobbole.com/?utm_source=ios.jobbole.com&#038;utm_medium=bottomText' target='_blank'>小组</a> &#8211; 好的话题、有启发的回复、值得信赖的圈子<br />
<a href='http://top.jobbole.com/?utm_source=ios.jobbole.com&#038;utm_medium=bottomText' target='_blank'>头条</a> &#8211; 分享和发现有价值的内容与观点<br />
<a href='http://date.jobbole.com/?utm_source=ios.jobbole.com&#038;utm_medium=bottomText' target='_blank'>相亲</a> &#8211; 为IT单身男女服务的征婚传播平台<br />
<a href='http://hao.jobbole.com/?utm_source=ios.jobbole.com&#038;utm_medium=bottomText' target='_blank'>资源</a> &#8211; 优秀的工具资源导航<br />
<a href='http://fanyi.jobbole.com/?utm_source=ios.jobbole.com&#038;utm_medium=bottomText' target='_blank'>翻译</a> &#8211; 翻译传播优秀的外文文章<br />
<a href='http://blog.jobbole.com/?utm_source=ios.jobbole.com&#038;utm_medium=bottomText' target='_blank'>文章</a> &#8211; 国内外的精选文章<br />
<a href='http://design.jobbole.com/?utm_source=ios.jobbole.com&#038;utm_medium=bottomText' target='_blank'>设计</a> &#8211; UI,网页，交互和用户体验<br />
<a href='http://ios.jobbole.com/?utm_source=ios.jobbole.com&#038;utm_medium=bottomText' target='_blank'>iOS</a> &#8211; 专注iOS技术分享<br />
<a href='http://android.jobbole.com/?utm_source=ios.jobbole.com&#038;utm_medium=bottomText' target='_blank'>安卓</a> &#8211; 专注Android技术分享<br />
<a href='http://web.jobbole.com/?utm_source=ios.jobbole.com&#038;utm_medium=bottomText' target='_blank'>前端</a> &#8211; JavaScript, HTML5, CSS<br />
<a href='http://www.importnew.com/?utm_source=ios.jobbole.com&#038;utm_medium=bottomText' target='_blank'>Java</a> &#8211; 专注Java技术分享<br />
<a href='http://python.jobbole.com/?utm_source=ios.jobbole.com&#038;utm_medium=bottomText' target='_blank'>Python</a> &#8211; 专注Python技术分享</p>
</div>
		</div>
            </div>
            <!-- END .grid-4 -->

            <div class="clear"></div>

        </div>
        <!-- END .container -->

        <!-- BEGIN #bottom -->
        <div id="bottom">

            <!-- BEGIN .container -->
            <div class="container">

                <!-- BEGIN .grid-12 -->
                <div class="grid-12">

                    <p>&copy; 2017 伯乐在线
                    <span style="margin-left: 40px;">
                        <a href="http://blog.jobbole.com">文章</a>&nbsp;&nbsp;
                        <a href="http://group.jobbole.com">小组</a>&nbsp;&nbsp;
                        <a href="http://date.jobbole.com">相亲</a>&nbsp;&nbsp;
                        <a href="http://group.jobbole.com/22422/">加入我们</a>&nbsp;&nbsp;
                        <a href="http://group.jobbole.com/category/feedback/thanks/"><i class="fa fa-bullhorn"></i> 反馈</a>
                    </span>
                    </p>

                </div>
                <!-- END .grid-12 -->

                <div class="clear"></div>

            </div>
            <!-- END .container -->

        </div>
        <!-- END #bottom -->
    </footer>

    
<!-- END footer -->



<script type='text/javascript'>
/* <![CDATA[ */
var thickboxL10n = {"next":"\u4e0b\u4e00\u9875 >","prev":"< \u4e0a\u4e00\u9875","image":"\u56fe\u50cf","of":"\/","close":"\u5173\u95ed","noiframes":"\u8fd9\u4e2a\u529f\u80fd\u9700\u8981iframe\u7684\u652f\u6301\u3002\u60a8\u53ef\u80fd\u7981\u6b62\u4e86iframe\u7684\u663e\u793a\uff0c\u6216\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u6b64\u529f\u80fd\u3002","loadingAnimation":"http:\/\/ios.jobbole.com\/wp-includes\/js\/thickbox\/loadingAnimation.gif"};
/* ]]> */
</script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-includes/js/thickbox/thickbox.js?ver=3.1-20121105'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-includes/js/underscore.min.js?ver=1.8.3'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-includes/js/shortcode.min.js?ver=4.5.7'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-admin/js/media-upload.min.js?ver=4.5.7'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-includes/js/comment-reply.min.js?ver=4.5.7'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var quicktagsL10n = {"closeAllOpenTags":"\u5173\u95ed\u6240\u6709\u6253\u5f00\u7684\u6807\u7b7e","closeTags":"\u5173\u95ed\u6807\u7b7e","enterURL":"\u8f93\u5165URL","enterImageURL":"\u8f93\u5165\u56fe\u50cfURL","enterImageDescription":"\u4e3a\u56fe\u50cf\u8f93\u5165\u63cf\u8ff0","textdirection":"\u6587\u672c\u65b9\u5411","toggleTextdirection":"\u5207\u6362\u7f16\u8f91\u5668\u6587\u672c\u4e66\u5199\u65b9\u5411","dfw":"\u514d\u6253\u6270\u5199\u4f5c\u6a21\u5f0f","strong":"\u7c97\u4f53","strongClose":"\u5173\u95ed\u7c97\u4f53\u6807\u7b7e","em":"\u659c\u4f53","emClose":"\u5173\u95ed\u659c\u4f53\u6807\u7b7e","link":"\u63d2\u5165\u94fe\u63a5","blockquote":"\u5757\u5f15\u7528","blockquoteClose":"\u5173\u95ed\u5757\u5f15\u7528\u6807\u7b7e","del":"\u5220\u9664\u7684\u6587\u5b57\uff08\u5220\u9664\u7ebf\uff09","delClose":"\u5173\u95ed\u5220\u9664\u7ebf\u6807\u7b7e","ins":"\u63d2\u5165\u7684\u6587\u5b57","insClose":"\u5173\u95ed\u63d2\u5165\u7684\u6587\u5b57\u6807\u7b7e","image":"\u63d2\u5165\u56fe\u50cf","ul":"\u9879\u76ee\u7b26\u53f7\u5217\u8868","ulClose":"\u5173\u95ed\u9879\u76ee\u7b26\u53f7\u5217\u8868\u6807\u7b7e","ol":"\u7f16\u53f7\u5217\u8868","olClose":"\u5173\u95ed\u7f16\u53f7\u5217\u8868\u6807\u7b7e","li":"\u5217\u8868\u9879\u76ee","liClose":"\u5173\u95ed\u5217\u8868\u9879\u76ee\u6807\u7b7e","code":"\u4ee3\u7801","codeClose":"\u5173\u95ed\u4ee3\u7801\u6807\u7b7e","more":"\u63d2\u5165\u201cMore\u201d\u6807\u7b7e"};
/* ]]> */
</script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-includes/js/quicktags.min.js?ver=4.5.7'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/plugins/crayon-syntax-highlighter/util/tag-editor/crayon_qt.js?ver=2.7.1.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"http:\/\/ios.jobbole.com\/wp-admin\/admin-ajax.php","post_id":"84329"};
/* ]]> */
</script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/plugins/wp-postviews/postviews-cache.js?ver=1.68'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/ready.js?ver=1.0'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/easing.js?ver=1.3'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/validate.js?ver=1.9.0'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/touchwipe.js?ver=1.1.1'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/caroufredsel.js?ver=5.5.0'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/flexslider.js?ver=2.0'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/jplayer.js?ver=2.1.0'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/fitvids.js?ver=1.0'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/selectnav.js?ver=0.11'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-content/themes/jobboleblogv3/_assets/js/effects.js?ver=1.11'></script>
<script type='text/javascript' src='http://ios.jobbole.com/wp-includes/js/wp-embed.min.js?ver=4.5.7'></script>


<div id="full-btm">
<a><img src="http://ios.jobbole.com/wp-content/themes/jobboleblogv3/_assets/img/back-btm.png" width="20" border=0 alt="跳到底部" title="跳到底部"></a>
</div>

<script type="text/javascript">
jQuery('#full-btm').click(function(){
    jQuery('html, body').animate({scrollTop:jQuery(document).height()}, 'slow');
    return false;
});
</script>

<div id="full-top">
<a><img src="http://ios.jobbole.com/wp-content/themes/jobboleblogv3/_assets/img/back-top.png" width="20" border=0 alt="返回顶部" title="返回顶部"></a>
</div>

<script type="text/javascript">
jQuery('#full-top').click(function(){
    jQuery('html, body').animate({scrollTop:0}, 'slow');
    return false;
});

</script>

</body>
<!-- END body -->

</html>
<!-- END html -->